import{j as g,G as Fn,L as jn,u as Ue,a as kn,c as H,b as oe,R as M,r as C,g as ui,d as ci,e as di,Q as Ht,A as pi,f as fi,B as Gn,M as vi,h as gi,i as mi,k as bi,l as $n,p as qt,n as ur,m as hi,o as yi,T as xi}from"./index-4975aaaa.js";import{M as Wn,a as Di}from"./Modal-42b3354d.js";import{L as Un}from"./LoadingButton-983b5e9c.js";import{g as wi}from"./getObjectsStates-c20a5656.js";let Ci=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((r,t)=>(t&=63,t<36?r+=t.toString(36):t<62?r+=(t-26).toString(36).toUpperCase():t>62?r+="-":r+="_",r),"");function dt(e){async function r(t){typeof t.action!="string"&&(e.onDropdownClose(),t.action())}return g.jsxs("div",{className:`bg-white shadow-lg border-black border-solid border-2
      ${e.className} pt-2 absolute -left-36 z-20 w-40`,children:[g.jsx("button",{onClick:e.onDropdownClose,className:"pl-2",children:g.jsx(Fn,{size:"25"})}),g.jsx("hr",{className:"bg-black"}),e.lines().map(t=>g.jsx("div",{children:t.type==="link"?g.jsx(jn,{to:typeof t.action=="string"?t.action:"/",className:"py-2 w-full",children:g.jsx("div",{className:"hover:bg-gray-200 w-full py-2 text-left pl-2",children:t.name})}):g.jsx("button",{onClick:async()=>r(t),className:"py-2 hover:bg-gray-200 w-full text-left pl-2",children:t.name})},Ci()))]})}function Si(e,r,t,n){const{onGeneralModalChange:a,onModalToggle:i,onActionTaskChange:o,onSingleTaskChange:l}=Ue();async function s(){try{await H.delete(`/task/${e.task_id}`),n({...t,lists:t.lists.map(u=>u.list_id!==r?u:{...u,tasks:u.tasks.filter(f=>f.task_id!==e.task_id)})})}catch(u){oe(u)}}function d(){a(!0,{rightAction:async()=>s(),question:"Are you sure?",rightContent:"Delete",onModalClose:()=>i("general",!1)})}function p(){o(!0,{type:"update",task:e,listID:r,onModalClose:()=>i("actionTask",!1),members:t.members,project:t,onProjectChange:n})}function c(){l(!0,{onModalClose:()=>i("singleTask",!1),task:e})}return[{name:"Delete task",action:d},{name:"Update task",action:p},{name:"More info",action:c}]}function Ii(e,r,t){const{onGeneralModalChange:n,onModalToggle:a}=Ue();async function i(){try{await H.delete(`/list/${e.list_id}`),t({...r,lists:r.lists.filter(d=>d.list_id!==e.list_id)})}catch(d){oe(d)}}function o(){n(!0,{question:"Are you sure?",rightContent:"Delete",rightAction:i,onModalClose:()=>a("general",!1)})}async function l(){try{await H.delete(`/list/tasks/${e.list_id}/${r.project_id}`),t({...r,lists:r.lists.map(d=>d.list_id!==e.list_id?d:{...d,tasks:[]})})}catch(d){oe(d)}}function s(){n(!0,{question:"Are you sure?",rightContent:"Delete all tasks",rightAction:l,onModalClose:()=>a("general",!1)})}return[{name:"Delete list",action:o},{name:"Delete all tasks",action:s}]}function Pi(e,r){const{onListChange:t,onModalToggle:n,onGeneralModalChange:a}=Ue(),i=kn();async function o(p){try{const c=await H.post("/list",{title:p,projectID:e.project_id});r({...e,lists:[...e.lists,{...c.data.list,tasks:[]}]})}catch(c){oe(c)}}function l(){t(!0,{action:o,onModalClose:()=>n("list",!1),onProjectChange:r,project:e})}async function s(){try{await H.delete(`/project/${e.project_id}`)}catch(p){oe(p)}i("/projects")}function d(){a(!0,{question:"Are you sure?",rightAction:s,rightContent:"Delete",onModalClose:()=>n("general",!1)})}return[{name:"Create list",action:l},{name:"Alter members",action:`/create-project/${e.project_id}`,type:"link"},{name:"Edit project",action:`/create-project/${e.project_id}`,type:"link"},{name:"Delete project",action:d}]}function at(e,r){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},at(e,r)}function Hn(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,at(e,r)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},I.apply(this,arguments)}function Fe(e){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fe(e)}function Ei(e,r){if(Fe(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Fe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ai(e){var r=Ei(e,"string");return Fe(r)==="symbol"?r:String(r)}function Bi(e,r,t){return r=Ai(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function zt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Vt(Object(t),!0).forEach(function(n){Bi(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function V(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Yt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kt={INIT:"@@redux/INIT"+Vr(),REPLACE:"@@redux/REPLACE"+Vr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vr()}};function Oi(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function qn(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(V(0));if(typeof r=="function"&&typeof t>"u"&&(t=r,r=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(V(1));return t(qn)(e,r)}if(typeof e!="function")throw new Error(V(2));var a=e,i=r,o=[],l=o,s=!1;function d(){l===o&&(l=o.slice())}function p(){if(s)throw new Error(V(3));return i}function c(m){if(typeof m!="function")throw new Error(V(4));if(s)throw new Error(V(5));var b=!0;return d(),l.push(m),function(){if(b){if(s)throw new Error(V(6));b=!1,d();var y=l.indexOf(m);l.splice(y,1),o=null}}}function u(m){if(!Oi(m))throw new Error(V(7));if(typeof m.type>"u")throw new Error(V(8));if(s)throw new Error(V(9));try{s=!0,i=a(i,m)}finally{s=!1}for(var b=o=l,h=0;h<b.length;h++){var y=b[h];y()}return m}function f(m){if(typeof m!="function")throw new Error(V(10));a=m,u({type:Kt.REPLACE})}function v(){var m,b=c;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(V(11));function w(){y.next&&y.next(p())}w();var D=b(w);return{unsubscribe:D}}},m[Yt]=function(){return this},m}return u({type:Kt.INIT}),n={dispatch:u,subscribe:c,getState:p,replaceReducer:f},n[Yt]=v,n}function Jt(e,r){return function(){return r(e.apply(this,arguments))}}function Xt(e,r){if(typeof e=="function")return Jt(e,r);if(typeof e!="object"||e===null)throw new Error(V(16));var t={};for(var n in e){var a=e[n];typeof a=="function"&&(t[n]=Jt(a,r))}return t}function Vn(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(n){return n}:r.length===1?r[0]:r.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function Ri(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(V(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=r.map(function(s){return s(o)});return i=Vn.apply(void 0,l)(a.dispatch),zt(zt({},a),{},{dispatch:i})}}}var zn=M.createContext(null);function Ni(e){e()}var Yn=Ni,Ti=function(r){return Yn=r},Mi=function(){return Yn};function Li(){var e=Mi(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var a=r;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=r;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=t={callback:a,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!i||r===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var Qt={notify:function(){},get:function(){return[]}};function Kn(e,r){var t,n=Qt;function a(c){return s(),n.subscribe(c)}function i(){n.notify()}function o(){p.onStateChange&&p.onStateChange()}function l(){return!!t}function s(){t||(t=r?r.addNestedSub(o):e.subscribe(o),n=Li())}function d(){t&&(t(),t=void 0,n.clear(),n=Qt)}var p={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:s,tryUnsubscribe:d,getListeners:function(){return n}};return p}var Jn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function Fi(e){var r=e.store,t=e.context,n=e.children,a=C.useMemo(function(){var l=Kn(r);return{store:r,subscription:l}},[r]),i=C.useMemo(function(){return r.getState()},[r]);Jn(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=t||zn;return M.createElement(o.Provider,{value:a},n)}function dr(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}var Xn={exports:{}},N={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=typeof Symbol=="function"&&Symbol.for,pt=$?Symbol.for("react.element"):60103,ft=$?Symbol.for("react.portal"):60106,xr=$?Symbol.for("react.fragment"):60107,Dr=$?Symbol.for("react.strict_mode"):60108,wr=$?Symbol.for("react.profiler"):60114,Cr=$?Symbol.for("react.provider"):60109,Sr=$?Symbol.for("react.context"):60110,vt=$?Symbol.for("react.async_mode"):60111,Ir=$?Symbol.for("react.concurrent_mode"):60111,Pr=$?Symbol.for("react.forward_ref"):60112,Er=$?Symbol.for("react.suspense"):60113,ji=$?Symbol.for("react.suspense_list"):60120,Ar=$?Symbol.for("react.memo"):60115,Br=$?Symbol.for("react.lazy"):60116,ki=$?Symbol.for("react.block"):60121,Gi=$?Symbol.for("react.fundamental"):60117,$i=$?Symbol.for("react.responder"):60118,Wi=$?Symbol.for("react.scope"):60119;function X(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case pt:switch(e=e.type,e){case vt:case Ir:case xr:case wr:case Dr:case Er:return e;default:switch(e=e&&e.$$typeof,e){case Sr:case Pr:case Br:case Ar:case Cr:return e;default:return r}}case ft:return r}}}function Qn(e){return X(e)===Ir}N.AsyncMode=vt;N.ConcurrentMode=Ir;N.ContextConsumer=Sr;N.ContextProvider=Cr;N.Element=pt;N.ForwardRef=Pr;N.Fragment=xr;N.Lazy=Br;N.Memo=Ar;N.Portal=ft;N.Profiler=wr;N.StrictMode=Dr;N.Suspense=Er;N.isAsyncMode=function(e){return Qn(e)||X(e)===vt};N.isConcurrentMode=Qn;N.isContextConsumer=function(e){return X(e)===Sr};N.isContextProvider=function(e){return X(e)===Cr};N.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pt};N.isForwardRef=function(e){return X(e)===Pr};N.isFragment=function(e){return X(e)===xr};N.isLazy=function(e){return X(e)===Br};N.isMemo=function(e){return X(e)===Ar};N.isPortal=function(e){return X(e)===ft};N.isProfiler=function(e){return X(e)===wr};N.isStrictMode=function(e){return X(e)===Dr};N.isSuspense=function(e){return X(e)===Er};N.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xr||e===Ir||e===wr||e===Dr||e===Er||e===ji||typeof e=="object"&&e!==null&&(e.$$typeof===Br||e.$$typeof===Ar||e.$$typeof===Cr||e.$$typeof===Sr||e.$$typeof===Pr||e.$$typeof===Gi||e.$$typeof===$i||e.$$typeof===Wi||e.$$typeof===ki)};N.typeOf=X;Xn.exports=N;var Ui=Xn.exports,gt=Ui,Hi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qi={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vi={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mt={};mt[gt.ForwardRef]=Vi;mt[gt.Memo]=Zn;function Zt(e){return gt.isMemo(e)?Zn:mt[e.$$typeof]||Hi}var zi=Object.defineProperty,Yi=Object.getOwnPropertyNames,_t=Object.getOwnPropertySymbols,Ki=Object.getOwnPropertyDescriptor,Ji=Object.getPrototypeOf,en=Object.prototype;function _n(e,r,t){if(typeof r!="string"){if(en){var n=Ji(r);n&&n!==en&&_n(e,n,t)}var a=Yi(r);_t&&(a=a.concat(_t(r)));for(var i=Zt(e),o=Zt(r),l=0;l<a.length;++l){var s=a[l];if(!qi[s]&&!(t&&t[s])&&!(o&&o[s])&&!(i&&i[s])){var d=Ki(r,s);try{zi(e,s,d)}catch{}}}}return e}var Xi=_n;const rn=ui(Xi);var ea={exports:{}},T={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=60103,Rr=60106,He=60107,qe=60108,Ve=60114,ze=60109,Ye=60110,Ke=60112,Je=60113,bt=60120,Xe=60115,Qe=60116,ra=60121,ta=60122,na=60117,aa=60129,ia=60131;if(typeof Symbol=="function"&&Symbol.for){var W=Symbol.for;Or=W("react.element"),Rr=W("react.portal"),He=W("react.fragment"),qe=W("react.strict_mode"),Ve=W("react.profiler"),ze=W("react.provider"),Ye=W("react.context"),Ke=W("react.forward_ref"),Je=W("react.suspense"),bt=W("react.suspense_list"),Xe=W("react.memo"),Qe=W("react.lazy"),ra=W("react.block"),ta=W("react.server.block"),na=W("react.fundamental"),aa=W("react.debug_trace_mode"),ia=W("react.legacy_hidden")}function le(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Or:switch(e=e.type,e){case He:case Ve:case qe:case Je:case bt:return e;default:switch(e=e&&e.$$typeof,e){case Ye:case Ke:case Qe:case Xe:case ze:return e;default:return r}}case Rr:return r}}}var Qi=ze,Zi=Or,_i=Ke,eo=He,ro=Qe,to=Xe,no=Rr,ao=Ve,io=qe,oo=Je;T.ContextConsumer=Ye;T.ContextProvider=Qi;T.Element=Zi;T.ForwardRef=_i;T.Fragment=eo;T.Lazy=ro;T.Memo=to;T.Portal=no;T.Profiler=ao;T.StrictMode=io;T.Suspense=oo;T.isAsyncMode=function(){return!1};T.isConcurrentMode=function(){return!1};T.isContextConsumer=function(e){return le(e)===Ye};T.isContextProvider=function(e){return le(e)===ze};T.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or};T.isForwardRef=function(e){return le(e)===Ke};T.isFragment=function(e){return le(e)===He};T.isLazy=function(e){return le(e)===Qe};T.isMemo=function(e){return le(e)===Xe};T.isPortal=function(e){return le(e)===Rr};T.isProfiler=function(e){return le(e)===Ve};T.isStrictMode=function(e){return le(e)===qe};T.isSuspense=function(e){return le(e)===Je};T.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===He||e===Ve||e===aa||e===qe||e===Je||e===bt||e===ia||typeof e=="object"&&e!==null&&(e.$$typeof===Qe||e.$$typeof===Xe||e.$$typeof===ze||e.$$typeof===Ye||e.$$typeof===Ke||e.$$typeof===na||e.$$typeof===ra||e[0]===ta)};T.typeOf=le;ea.exports=T;var lo=ea.exports,so=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],uo=["reactReduxForwardedRef"],co=[],po=[null,null];function fo(e,r){var t=e[1];return[r.payload,t+1]}function tn(e,r,t){Jn(function(){return e.apply(void 0,r)},t)}function vo(e,r,t,n,a,i,o){e.current=n,r.current=a,t.current=!1,i.current&&(i.current=null,o())}function go(e,r,t,n,a,i,o,l,s,d){if(e){var p=!1,c=null,u=function(){if(!p){var m=r.getState(),b,h;try{b=n(m,a.current)}catch(y){h=y,c=y}h||(c=null),b===i.current?o.current||s():(i.current=b,l.current=b,o.current=!0,d({type:"STORE_UPDATED",payload:{error:h}}))}};t.onStateChange=u,t.trySubscribe(),u();var f=function(){if(p=!0,t.tryUnsubscribe(),t.onStateChange=null,c)throw c};return f}}var mo=function(){return[null,0]};function bo(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,a=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,i=t.methodName,o=i===void 0?"connectAdvanced":i,l=t.renderCountProp,s=l===void 0?void 0:l,d=t.shouldHandleStateChanges,p=d===void 0?!0:d,c=t.storeKey,u=c===void 0?"store":c;t.withRef;var f=t.forwardRef,v=f===void 0?!1:f,m=t.context,b=m===void 0?zn:m,h=dr(t,so),y=b;return function(D){var E=D.displayName||D.name||"Component",P=a(E),O=I({},h,{getDisplayName:a,methodName:o,renderCountProp:s,shouldHandleStateChanges:p,storeKey:u,displayName:P,wrappedComponentName:E,WrappedComponent:D}),L=h.pure;function A(j){return e(j.dispatch,O)}var F=L?C.useMemo:function(j){return j()};function R(j){var _=C.useMemo(function(){var Oe=j.reactReduxForwardedRef,qr=dr(j,uo);return[j.context,Oe,qr]},[j]),ee=_[0],ye=_[1],se=_[2],xe=C.useMemo(function(){return ee&&ee.Consumer&&lo.isContextConsumer(M.createElement(ee.Consumer,null))?ee:y},[ee,y]),ae=C.useContext(xe),ge=!!j.store&&!!j.store.getState&&!!j.store.dispatch;ae&&ae.store;var z=ge?j.store:ae.store,Be=C.useMemo(function(){return A(z)},[z]),er=C.useMemo(function(){if(!p)return po;var Oe=Kn(z,ge?null:ae.subscription),qr=Oe.notifyNestedSubs.bind(Oe);return[Oe,qr]},[z,ge,ae]),ue=er[0],rr=er[1],tr=C.useMemo(function(){return ge?ae:I({},ae,{subscription:ue})},[ge,ae,ue]),nr=C.useReducer(fo,co,mo),Gr=nr[0],De=Gr[0],$r=nr[1];if(De&&De.error)throw De.error;var Wt=C.useRef(),Wr=C.useRef(se),ar=C.useRef(),Ut=C.useRef(!1),Ur=F(function(){return ar.current&&se===Wr.current?ar.current:Be(z.getState(),se)},[z,De,se]);tn(vo,[Wr,Wt,Ut,se,Ur,ar,rr]),tn(go,[p,z,ue,Be,Wr,Wt,Ut,ar,rr,$r],[z,ue,Be]);var Hr=C.useMemo(function(){return M.createElement(D,I({},Ur,{ref:ye}))},[ye,D,Ur]),si=C.useMemo(function(){return p?M.createElement(xe.Provider,{value:tr},Hr):Hr},[xe,Hr,tr]);return si}var Q=L?M.memo(R):R;if(Q.WrappedComponent=D,Q.displayName=R.displayName=P,v){var Z=M.forwardRef(function(_,ee){return M.createElement(Q,I({},_,{reactReduxForwardedRef:ee}))});return Z.displayName=P,Z.WrappedComponent=D,rn(Z,D)}return rn(Q,D)}}function nn(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function zr(e,r){if(nn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(r,t[a])||!nn(e[t[a]],r[t[a]]))return!1;return!0}function ho(e,r){var t={},n=function(o){var l=e[o];typeof l=="function"&&(t[o]=function(){return r(l.apply(void 0,arguments))})};for(var a in e)n(a);return t}function ht(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function an(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function oa(e,r){return function(n,a){a.displayName;var i=function(l,s){return i.dependsOnOwnProps?i.mapToProps(l,s):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,s){i.mapToProps=e,i.dependsOnOwnProps=an(e);var d=i(l,s);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=an(d),d=i(l,s)),d},i}}function yo(e){return typeof e=="function"?oa(e):void 0}function xo(e){return e?void 0:ht(function(r){return{dispatch:r}})}function Do(e){return e&&typeof e=="object"?ht(function(r){return ho(e,r)}):void 0}const wo=[yo,xo,Do];function Co(e){return typeof e=="function"?oa(e):void 0}function So(e){return e?void 0:ht(function(){return{}})}const Io=[Co,So];function Po(e,r,t){return I({},t,e,r)}function Eo(e){return function(t,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(d,p,c){var u=e(d,p,c);return o?(!a||!i(u,l))&&(l=u):(o=!0,l=u),l}}}function Ao(e){return typeof e=="function"?Eo(e):void 0}function Bo(e){return e?void 0:function(){return Po}}const Oo=[Ao,Bo];var Ro=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function No(e,r,t,n){return function(i,o){return t(e(i,o),r(n,o),o)}}function To(e,r,t,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,s=!1,d,p,c,u,f;function v(w,D){return d=w,p=D,c=e(d,p),u=r(n,p),f=t(c,u,p),s=!0,f}function m(){return c=e(d,p),r.dependsOnOwnProps&&(u=r(n,p)),f=t(c,u,p),f}function b(){return e.dependsOnOwnProps&&(c=e(d,p)),r.dependsOnOwnProps&&(u=r(n,p)),f=t(c,u,p),f}function h(){var w=e(d,p),D=!l(w,c);return c=w,D&&(f=t(c,u,p)),f}function y(w,D){var E=!o(D,p),P=!i(w,d,D,p);return d=w,p=D,E&&P?m():E?b():P?h():f}return function(D,E){return s?y(D,E):v(D,E)}}function Mo(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,a=r.initMergeProps,i=dr(r,Ro),o=t(e,i),l=n(e,i),s=a(e,i),d=i.pure?To:No;return d(o,l,s,e,i)}var Lo=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Yr(e,r,t){for(var n=r.length-1;n>=0;n--){var a=r[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function Fo(e,r){return e===r}function jo(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?bo:t,a=r.mapStateToPropsFactories,i=a===void 0?Io:a,o=r.mapDispatchToPropsFactories,l=o===void 0?wo:o,s=r.mergePropsFactories,d=s===void 0?Oo:s,p=r.selectorFactory,c=p===void 0?Mo:p;return function(f,v,m,b){b===void 0&&(b={});var h=b,y=h.pure,w=y===void 0?!0:y,D=h.areStatesEqual,E=D===void 0?Fo:D,P=h.areOwnPropsEqual,O=P===void 0?zr:P,L=h.areStatePropsEqual,A=L===void 0?zr:L,F=h.areMergedPropsEqual,R=F===void 0?zr:F,Q=dr(h,Lo),Z=Yr(f,i,"mapStateToProps"),j=Yr(v,l,"mapDispatchToProps"),_=Yr(m,d,"mergeProps");return n(c,I({methodName:"connect",getDisplayName:function(ye){return"Connect("+ye+")"},shouldHandleStateChanges:!!f,initMapStateToProps:Z,initMapDispatchToProps:j,initMergeProps:_,pure:w,areStatesEqual:E,areOwnPropsEqual:O,areStatePropsEqual:A,areMergedPropsEqual:R},Q))}}const la=jo();Ti(ci.unstable_batchedUpdates);function ko(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function sa(e,r){var t=C.useState(function(){return{inputs:r,result:e()}})[0],n=C.useRef(!0),a=C.useRef(t),i=n.current||!!(r&&a.current.inputs&&ko(r,a.current.inputs)),o=i?a.current:{inputs:r,result:e()};return C.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function Go(e,r){return sa(function(){return e},r)}var B=sa,S=Go,$o=!0,Kr="Invariant failed";function Wo(e,r){if(!e){if($o)throw new Error(Kr);var t=typeof r=="function"?r():r,n=t?"".concat(Kr,": ").concat(t):Kr;throw new Error(n)}}var ie=function(r){var t=r.top,n=r.right,a=r.bottom,i=r.left,o=n-i,l=a-t,s={top:t,right:n,bottom:a,left:i,width:o,height:l,x:i,y:t,center:{x:(n+i)/2,y:(a+t)/2}};return s},yt=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},on=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},Uo=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Jr={top:0,right:0,bottom:0,left:0},xt=function(r){var t=r.borderBox,n=r.margin,a=n===void 0?Jr:n,i=r.border,o=i===void 0?Jr:i,l=r.padding,s=l===void 0?Jr:l,d=ie(yt(t,a)),p=ie(on(t,o)),c=ie(on(p,s));return{marginBox:d,borderBox:ie(t),paddingBox:p,contentBox:c,margin:a,border:o,padding:s}},re=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var a=Number(t);return isNaN(a)&&Wo(!1),a},Ho=function(){return{x:window.pageXOffset,y:window.pageYOffset}},pr=function(r,t){var n=r.borderBox,a=r.border,i=r.margin,o=r.padding,l=Uo(n,t);return xt({borderBox:l,border:a,margin:i,padding:o})},fr=function(r,t){return t===void 0&&(t=Ho()),pr(r,t)},ua=function(r,t){var n={top:re(t.marginTop),right:re(t.marginRight),bottom:re(t.marginBottom),left:re(t.marginLeft)},a={top:re(t.paddingTop),right:re(t.paddingRight),bottom:re(t.paddingBottom),left:re(t.paddingLeft)},i={top:re(t.borderTopWidth),right:re(t.borderRightWidth),bottom:re(t.borderBottomWidth),left:re(t.borderLeftWidth)};return xt({borderBox:r,margin:n,padding:a,border:i})},ca=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return ua(t,n)},ln=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function qo(e,r){return!!(e===r||ln(e)&&ln(r))}function Vo(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!qo(e[t],r[t]))return!1;return!0}function k(e,r){r===void 0&&(r=Vo);var t,n=[],a,i=!1;function o(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return i&&t===this&&r(l,n)||(a=e.apply(this,l),i=!0,t=this,n=l),a}return o}var zo=function(r){var t=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];t=l,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};const je=zo;function da(e,r){}da.bind(null,"warn");da.bind(null,"error");function ce(){}function Yo(e,r){return I({},e,{},r)}function te(e,r,t){var n=r.map(function(a){var i=Yo(t,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var Ko="Invariant failed";function vr(e){this.message=e}vr.prototype.toString=function(){return this.message};function x(e,r){if(!e)throw new vr(Ko)}var Jo=function(e){Hn(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=ce,n.onWindowError=function(l){var s=n.getCallbacks();s.isDragging()&&s.tryAbort();var d=l.error;d instanceof vr&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=te(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(a){if(a instanceof vr){this.setState({});return}throw a},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r}(M.Component),Xo=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,gr=function(r){return r+1},Qo=function(r){return`
  You have lifted an item in position `+gr(r.source.index)+`
`},pa=function(r,t){var n=r.droppableId===t.droppableId,a=gr(r.index),i=gr(t.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+i+`
  `},fa=function(r,t,n){var a=t.droppableId===n.droppableId;return a?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Zo=function(r){var t=r.destination;if(t)return pa(r.source,t);var n=r.combine;return n?fa(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},sn=function(r){return`
  The item has returned to its starting position
  of `+gr(r.index)+`
`},_o=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+sn(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+pa(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+fa(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+sn(r.source)+`
  `},cr={dragHandleUsageInstructions:Xo,onDragStart:Qo,onDragUpdate:Zo,onDragEnd:_o},G={x:0,y:0},U=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},Y=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},de=function(r,t){return r.x===t.x&&r.y===t.y},Pe=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},he=function(r,t,n){var a;return n===void 0&&(n=0),a={},a[r]=t,a[r==="x"?"y":"x"]=n,a},ke=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},un=function(r,t){return Math.min.apply(Math,t.map(function(n){return ke(r,n)}))},va=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},el=function(e,r){var t=ie({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t},Ze=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},cn=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},rl={top:0,right:0,bottom:0,left:0},tl=function(r,t){return t?Ze(r,t.scroll.diff.displacement):r},nl=function(r,t,n){if(n&&n.increasedBy){var a;return I({},r,(a={},a[t.end]=r[t.end]+n.increasedBy[t.line],a))}return r},al=function(r,t){return t&&t.shouldClipSubject?el(t.pageMarginBox,r):ie(r)},Ce=function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,a=e.frame,i=tl(r.marginBox,a),o=nl(i,n,t),l=al(o,a);return{page:r,withPlaceholder:t,active:l}},Dt=function(e,r){e.frame||x(!1);var t=e.frame,n=Y(r,t.scroll.initial),a=Pe(n),i=I({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:a},max:t.scroll.max}}),o=Ce({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=I({},e,{frame:i,subject:o});return l};function mr(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function wt(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function ve(e,r){if(e.find)return e.find(r);var t=wt(e,r);if(t!==-1)return e[t]}function ga(e){return Array.prototype.slice.call(e)}var ma=k(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),ba=k(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),Nr=k(function(e){return mr(e)}),il=k(function(e){return mr(e)}),Ee=k(function(e,r){var t=il(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return t});function Ct(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Tr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Mr=k(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),ol=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Ct(i);if(!o)return null;function l(m){var b={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return I({},i,{at:b})}var s=i.displaced.all,d=s.length?s[0]:null;if(r)return d?l(d):null;var p=Mr(t,a);if(!d){if(!p.length)return null;var c=p[p.length-1];return l(c.descriptor.id)}var u=wt(p,function(m){return m.descriptor.id===d});u===-1&&x(!1);var f=u-1;if(f<0)return null;var v=p[f];return l(v.descriptor.id)},Ae=function(e,r){return e.descriptor.droppableId===r.descriptor.id},ha={point:G,value:0},Ge={invisible:{},visible:{},all:[]},ll={displaced:Ge,displacedBy:ha,at:null},ne=function(e,r){return function(t){return e<=t&&t<=r}},ya=function(e){var r=ne(e.top,e.bottom),t=ne(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(a)return!0;var i=r(n.top)||r(n.bottom),o=t(n.left)||t(n.right),l=i&&o;if(l)return!0;var s=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,p=s&&d;if(p)return!0;var c=s&&o||d&&i;return c}},sl=function(e){var r=ne(e.top,e.bottom),t=ne(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return a}},St={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xa={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ul=function(e){return function(r){var t=ne(r.top,r.bottom),n=ne(r.left,r.right);return function(a){return e===St?t(a.top)&&t(a.bottom):n(a.left)&&n(a.right)}}},cl=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:G;return Ze(r,n)},dl=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},pl=function(r,t,n){return n(t)(r)},It=function(r){var t=r.target,n=r.destination,a=r.viewport,i=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,l=i?cl(t,n):t;return dl(l,n,o)&&pl(l,a,o)},fl=function(r){return It(I({},r,{isVisibleThroughFrameFn:ya}))},Da=function(r){return It(I({},r,{isVisibleThroughFrameFn:sl}))},vl=function(r){return It(I({},r,{isVisibleThroughFrameFn:ul(r.destination.axis)}))},gl=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var a=t.invisible,i=t.visible;if(a[r])return!1;var o=i[r];return o?o.shouldAnimate:!0};function ml(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return ie(yt(t,n))}function $e(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return r.reduce(function(s,d){var p=ml(d,n),c=d.descriptor.id;s.all.push(c);var u=fl({target:p,destination:t,viewport:a,withDroppableDisplacement:!0});if(!u)return s.invisible[d.descriptor.id]=!0,s;var f=gl(c,o,i),v={draggableId:c,shouldAnimate:f};return s.visible[c]=v,s},{all:[],visible:{},invisible:{}})}function bl(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function dn(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,a=e.destination,i=bl(r,{inHomeList:t});return{displaced:Ge,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function br(e){var r=e.draggable,t=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,s=e.forceShouldAnimate,d=Ae(r,n);if(l==null)return dn({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});var p=ve(t,function(m){return m.descriptor.index===l});if(!p)return dn({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});var c=Mr(r,t),u=t.indexOf(p),f=c.slice(u),v=$e({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:s});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function fe(e,r){return!!r.effected[e]}var hl=function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!t.isCombineEnabled)return null;var o=a.draggableId,l=n[o],s=l.descriptor.index,d=fe(o,i);return d?r?s:s-1:r?s+1:s},yl=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=r?i+1:i-1,l=n[0].descriptor.index,s=n[n.length-1].descriptor.index,d=t?s:s+1;return o<l||o>d?null:o},xl=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,s=e.viewport,d=e.afterCritical,p=l.at;if(p||x(!1),p.type==="REORDER"){var c=yl({isMovingForward:r,isInHomeList:t,location:p.destination,insideDestination:o});return c==null?null:br({draggable:n,insideDestination:o,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:c})}var u=hl({isMovingForward:r,destination:i,displaced:l.displaced,draggables:a,combine:p.combine,afterCritical:d});return u==null?null:br({draggable:n,insideDestination:o,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:u})},Dl=function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(r.visible[n]||r.invisible[n]);return fe(n,t)?i?G:Pe(a.point):i?a.point:G},wl=function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,a=Tr(t);a||x(!1);var i=a.draggableId,o=n[i].page.borderBox.center,l=Dl({displaced:t.displaced,afterCritical:r,combineWith:i,displacedBy:t.displacedBy});return U(o,l)},wa=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},Cl=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},Pt=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},pn=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return he(t.line,n.marginBox[t.end]+wa(t,a),Pt(t,n.marginBox,a))},fn=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return he(t.line,n.marginBox[t.start]-Cl(t,a),Pt(t,n.marginBox,a))},Sl=function(r){var t=r.axis,n=r.moveInto,a=r.isMoving;return he(t.line,n.contentBox[t.start]+wa(t,a),Pt(t,n.contentBox,a))},Il=function(e){var r=e.impact,t=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=Ee(a.descriptor.id,n),l=t.page,s=a.axis;if(!o.length)return Sl({axis:s,moveInto:a.page,isMoving:l});var d=r.displaced,p=r.displacedBy,c=d.all[0];if(c){var u=n[c];if(fe(c,i))return fn({axis:s,moveRelativeTo:u.page,isMoving:l});var f=pr(u.page,p.point);return fn({axis:s,moveRelativeTo:f,isMoving:l})}var v=o[o.length-1];if(v.descriptor.id===t.descriptor.id)return l.borderBox.center;if(fe(v.descriptor.id,i)){var m=pr(v.page,Pe(i.displacedBy.point));return pn({axis:s,moveRelativeTo:m,isMoving:l})}return pn({axis:s,moveRelativeTo:v.page,isMoving:l})},it=function(e,r){var t=e.frame;return t?U(r,t.scroll.diff.displacement):r},Pl=function(r){var t=r.impact,n=r.draggable,a=r.droppable,i=r.draggables,o=r.afterCritical,l=n.page.borderBox.center,s=t.at;return!a||!s?l:s.type==="REORDER"?Il({impact:t,draggable:n,draggables:i,droppable:a,afterCritical:o}):wl({impact:t,draggables:i,afterCritical:o})},Lr=function(e){var r=Pl(e),t=e.droppable,n=t?it(t,r):r;return n},Ca=function(e,r){var t=Y(r,e.scroll.initial),n=Pe(t),a=ie({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return i};function vn(e,r){return e.map(function(t){return r[t]})}function El(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var Al=function(e){var r=e.impact,t=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=Ca(t,U(t.scroll.current,i)),l=n.frame?Dt(n,U(n.frame.scroll.current,i)):n,s=r.displaced,d=$e({afterDragging:vn(s.all,a),destination:n,displacedBy:r.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),p=$e({afterDragging:vn(s.all,a),destination:l,displacedBy:r.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),c={},u={},f=[s,d,p];s.all.forEach(function(m){var b=El(m,f);if(b){u[m]=b;return}c[m]=!0});var v=I({},r,{displaced:{all:s.all,invisible:c,visible:u}});return v},Bl=function(e,r){return U(e.scroll.diff.displacement,r)},Et=function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,a=Bl(n,r),i=Y(a,t.page.borderBox.center);return U(t.client.borderBox.center,i)},Sa=function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,s=Y(n,r.page.borderBox.center),d=Ze(r.page.borderBox,s),p={target:d,destination:t,withDroppableDisplacement:i,viewport:a};return l?vl(p):Da(p)},Ol=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var p=Ee(n.descriptor.id,a),c=Ae(t,n),u=ol({isMovingForward:r,draggable:t,destination:n,insideDestination:p,previousImpact:i})||xl({isMovingForward:r,isInHomeList:c,draggable:t,draggables:a,destination:n,insideDestination:p,previousImpact:i,viewport:o,afterCritical:d});if(!u)return null;var f=Lr({impact:u,draggable:t,droppable:n,draggables:a,afterCritical:d}),v=Sa({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var m=Et({pageBorderBoxCenter:f,draggable:t,viewport:o});return{clientSelection:m,impact:u,scrollJumpRequest:null}}var b=Y(f,l),h=Al({impact:u,viewport:o,destination:n,draggables:a,maxScrollChange:b});return{clientSelection:s,impact:h,scrollJumpRequest:b}},q=function(r){var t=r.subject.active;return t||x(!1),t},Rl=function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,s=ne(o[l.start],o[l.end]),d=Nr(a).filter(function(c){return c!==n}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return ya(i.frame)(q(c))}).filter(function(c){var u=q(c);return r?o[l.crossAxisEnd]<u[l.crossAxisEnd]:u[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(c){var u=q(c),f=ne(u[l.start],u[l.end]);return s(u[l.start])||s(u[l.end])||f(o[l.start])||f(o[l.end])}).sort(function(c,u){var f=q(c)[l.crossAxisStart],v=q(u)[l.crossAxisStart];return r?f-v:v-f}).filter(function(c,u,f){return q(c)[l.crossAxisStart]===q(f[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var p=d.filter(function(c){var u=ne(q(c)[l.start],q(c)[l.end]);return u(t[l.line])});return p.length===1?p[0]:p.length>1?p.sort(function(c,u){return q(c)[l.start]-q(u)[l.start]})[0]:d.sort(function(c,u){var f=un(t,cn(q(c))),v=un(t,cn(q(u)));return f!==v?f-v:q(c)[l.start]-q(u)[l.start]})[0]},gn=function(r,t){var n=r.page.borderBox.center;return fe(r.descriptor.id,t)?Y(n,t.displacedBy.point):n},Nl=function(r,t){var n=r.page.borderBox;return fe(r.descriptor.id,t)?Ze(n,Pe(t.displacedBy.point)):n},Tl=function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return Da({target:Nl(l,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(l,s){var d=ke(r,it(n,gn(l,i))),p=ke(r,it(n,gn(s,i)));return d<p?-1:p<d?1:l.descriptor.index-s.descriptor.index});return o[0]||null},_e=k(function(r,t){var n=t[r.line];return{value:n,point:he(r.line,n)}}),Ml=function(r,t,n){var a=r.axis;if(r.descriptor.mode==="virtual")return he(a.line,t[a.line]);var i=r.subject.page.contentBox[a.size],o=Ee(r.descriptor.id,n),l=o.reduce(function(p,c){return p+c.client.marginBox[a.size]},0),s=l+t[a.line],d=s-i;return d<=0?null:he(a.line,d)},Ia=function(r,t){return I({},r,{scroll:I({},r.scroll,{max:t})})},Pa=function(r,t,n){var a=r.frame;Ae(t,r)&&x(!1),r.subject.withPlaceholder&&x(!1);var i=_e(r.axis,t.displaceBy).point,o=Ml(r,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!a){var s=Ce({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return I({},r,{subject:s})}var d=o?U(a.scroll.max,o):a.scroll.max,p=Ia(a,d),c=Ce({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:p});return I({},r,{subject:c,frame:p})},Ll=function(r){var t=r.subject.withPlaceholder;t||x(!1);var n=r.frame;if(!n){var a=Ce({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return I({},r,{subject:a})}var i=t.oldFrameMaxScroll;i||x(!1);var o=Ia(n,i),l=Ce({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return I({},r,{subject:l,frame:o})},Fl=function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,s=e.afterCritical;if(!t){if(n.length)return null;var d={displaced:Ge,displacedBy:ha,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=Lr({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:s}),c=Ae(a,o)?o:Pa(o,a,i),u=Sa({draggable:a,destination:c,newPageBorderBoxCenter:p,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return u?d:null}var f=r[o.axis.line]<=t.page.borderBox.center[o.axis.line],v=function(){var b=t.descriptor.index;return t.descriptor.id===a.descriptor.id||f?b:b+1}(),m=_e(o.axis,a.displaceBy);return br({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:m,last:Ge,index:v})},jl=function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,s=e.afterCritical,d=Rl({isMovingForward:r,pageBorderBoxCenter:t,source:a,droppables:o,viewport:l});if(!d)return null;var p=Ee(d.descriptor.id,i),c=Tl({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:p,afterCritical:s}),u=Fl({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:c,insideDestination:p,viewport:l,afterCritical:s});if(!u)return null;var f=Lr({impact:u,draggable:n,droppable:d,draggables:i,afterCritical:s}),v=Et({pageBorderBoxCenter:f,draggable:n,viewport:l});return{clientSelection:v,impact:u,scrollJumpRequest:null}},K=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},kl=function(r,t){var n=K(r);return n?t[n]:null},Gl=function(e){var r=e.state,t=e.type,n=kl(r.impact,r.dimensions.droppables),a=!!n,i=r.dimensions.droppables[r.critical.droppable.id],o=n||i,l=o.axis.direction,s=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(s&&!a)return null;var d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",p=r.dimensions.draggables[r.critical.draggable.id],c=r.current.page.borderBoxCenter,u=r.dimensions,f=u.draggables,v=u.droppables;return s?Ol({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:p,destination:o,draggables:f,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):jl({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:p,isOver:o,draggables:f,droppables:v,viewport:r.viewport,afterCritical:r.afterCritical})};function be(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Ea(e){var r=ne(e.top,e.bottom),t=ne(e.left,e.right);return function(a){return r(a.y)&&t(a.x)}}function $l(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function Wl(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,a=t.page.borderBox.center,i=n.map(function(o){var l=o.axis,s=he(o.axis.line,r.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:ke(a,s)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function Ul(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,a=Nr(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!$l(r,o))return!1;if(Ea(o)(r.center))return!0;var l=i.axis,s=o.center[l.crossAxisLine],d=r[l.crossAxisStart],p=r[l.crossAxisEnd],c=ne(o[l.crossAxisStart],o[l.crossAxisEnd]),u=c(d),f=c(p);return!u&&!f?!0:u?d<s:p>s});return a.length?a.length===1?a[0].descriptor.id:Wl({pageBorderBox:r,draggable:t,candidates:a}):null}var Aa=function(r,t){return ie(Ze(r,t))},Hl=function(e,r){var t=e.frame;return t?Aa(r,t.scroll.diff.value):r};function Ba(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function ql(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Vl=function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,s=n.axis,d=_e(n.axis,t.displaceBy),p=d.value,c=r[s.start],u=r[s.end],f=Mr(t,a),v=ve(f,function(b){var h=b.descriptor.id,y=b.page.borderBox.center[s.line],w=fe(h,l),D=Ba({displaced:i,id:h});return w?D?u<=y:c<y-p:D?u<=y+p:c<y}),m=ql({draggable:t,closest:v,inHomeList:Ae(t,n)});return br({draggable:t,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:d,index:m})},zl=4,Yl=function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,s=_e(a.axis,r.displaceBy),d=s.value,p=t[l.start],c=t[l.end],u=Mr(r,i),f=ve(u,function(m){var b=m.descriptor.id,h=m.page.borderBox,y=h[l.size],w=y/zl,D=fe(b,o),E=Ba({displaced:n.displaced,id:b});return D?E?c>h[l.start]+w&&c<h[l.end]-w:p>h[l.start]-d+w&&p<h[l.end]-d-w:E?c>h[l.start]+d+w&&c<h[l.end]+d-w:p>h[l.start]+w&&p<h[l.end]-w});if(!f)return null;var v={displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return v},Oa=function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,s=Aa(t.page.borderBox,r),d=Ul({pageBorderBox:s,draggable:t,droppables:a});if(!d)return ll;var p=a[d],c=Ee(p.descriptor.id,n),u=Hl(p,s);return Yl({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:i,destination:p,insideDestination:c,afterCritical:l})||Vl({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:p,insideDestination:c,last:i.displaced,viewport:o,afterCritical:l})},At=function(e,r){var t;return I({},e,(t={},t[r.descriptor.id]=r,t))},Kl=function(r){var t=r.previousImpact,n=r.impact,a=r.droppables,i=K(t),o=K(n);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var s=Ll(l);return At(a,s)},Jl=function(e){var r=e.draggable,t=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=Kl({previousImpact:a,impact:i,droppables:n}),l=K(i);if(!l)return o;var s=n[l];if(Ae(r,s)||s.subject.withPlaceholder)return o;var d=Pa(s,r,t);return At(o,d)},Me=function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||r.viewport,s=n||r.dimensions,d=t||r.current.client.selection,p=Y(d,r.initial.client.selection),c={offset:p,selection:d,borderBoxCenter:U(r.initial.client.borderBoxCenter,p)},u={selection:U(c.selection,l.scroll.current),borderBoxCenter:U(c.borderBoxCenter,l.scroll.current),offset:U(c.offset,l.scroll.diff.value)},f={client:c,page:u};if(r.phase==="COLLECTING")return I({phase:"COLLECTING"},r,{dimensions:s,viewport:l,current:f});var v=s.draggables[r.critical.draggable.id],m=i||Oa({pageOffset:u.offset,draggable:v,draggables:s.draggables,droppables:s.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),b=Jl({draggable:v,impact:m,previousImpact:r.impact,draggables:s.draggables,droppables:s.droppables}),h=I({},r,{current:f,dimensions:{draggables:s.draggables,droppables:b},impact:m,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return h};function Xl(e,r){return e.map(function(t){return r[t]})}var Ra=function(e){var r=e.impact,t=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=r.displaced,l=Xl(o.all,n),s=$e({afterDragging:l,destination:a,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return I({},r,{displaced:s})},Na=function(e){var r=e.impact,t=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=Lr({impact:r,draggable:t,draggables:a,droppable:n,afterCritical:o});return Et({pageBorderBoxCenter:l,draggable:t,viewport:i})},Ta=function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&x(!1);var a=r.impact,i=n||r.viewport,o=t||r.dimensions,l=o.draggables,s=o.droppables,d=l[r.critical.draggable.id],p=K(a);p||x(!1);var c=s[p],u=Ra({impact:a,viewport:i,destination:c,draggables:l}),f=Na({impact:u,draggable:d,droppable:c,draggables:l,viewport:i,afterCritical:r.afterCritical});return Me({impact:u,clientSelection:f,state:r,dimensions:o,viewport:i})},Ql=function(e){return{index:e.index,droppableId:e.droppableId}},Ma=function(e){var r=e.draggable,t=e.home,n=e.draggables,a=e.viewport,i=_e(t.axis,r.displaceBy),o=Ee(t.descriptor.id,n),l=o.indexOf(r);l===-1&&x(!1);var s=o.slice(l+1),d=s.reduce(function(f,v){return f[v.descriptor.id]=!0,f},{}),p={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d},c=$e({afterDragging:s,destination:t,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),u={displaced:c,displacedBy:i,at:{type:"REORDER",destination:Ql(r.descriptor)}};return{impact:u,afterCritical:p}},Zl=function(e,r){return{draggables:e.draggables,droppables:At(e.droppables,r)}},_l=function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,a=pr(r.client,t),i=fr(a,n),o=I({},r,{placeholder:I({},r.placeholder,{client:a}),client:a,page:i});return o},es=function(e){var r=e.frame;return r||x(!1),r},rs=function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return r.map(function(i){var o=i.descriptor.droppableId,l=t[o],s=es(l),d=s.scroll.diff.value,p=U(a,d),c=_l({draggable:i,offset:p,initialWindowScroll:n.scroll.initial});return c})},ts=function(e){var r=e.state,t=e.published,n=t.modified.map(function(w){var D=r.dimensions.droppables[w.droppableId],E=Dt(D,w.scroll);return E}),a=I({},r.dimensions.droppables,{},ma(n)),i=ba(rs({additions:t.additions,updatedDroppables:a,viewport:r.viewport})),o=I({},r.dimensions.draggables,{},i);t.removals.forEach(function(w){delete o[w]});var l={droppables:a,draggables:o},s=K(r.impact),d=s?l.droppables[s]:null,p=l.draggables[r.critical.draggable.id],c=l.droppables[r.critical.droppable.id],u=Ma({draggable:p,home:c,draggables:o,viewport:r.viewport}),f=u.impact,v=u.afterCritical,m=d&&d.isCombineEnabled?r.impact:f,b=Oa({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:m,viewport:r.viewport,afterCritical:v}),h=I({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return h;var y=I({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return y},ot=function(r){return r.movementMode==="SNAP"},Xr=function(r,t,n){var a=Zl(r.dimensions,t);return!ot(r)||n?Me({state:r,dimensions:a}):Ta({state:r,dimensions:a})};function Qr(e){return e.isDragging&&e.movementMode==="SNAP"?I({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var mn={phase:"IDLE",completed:null,shouldFlush:!1},ns=function(e,r){if(e===void 0&&(e=mn),r.type==="FLUSH")return I({},mn,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&x(!1);var t=r.payload,n=t.critical,a=t.clientSelection,i=t.viewport,o=t.dimensions,l=t.movementMode,s=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],p={selection:a,borderBoxCenter:s.client.borderBox.center,offset:G},c={client:p,page:{selection:U(p.selection,i.scroll.initial),borderBoxCenter:U(p.selection,i.scroll.initial),offset:U(p.selection,i.scroll.diff.value)}},u=Nr(o.droppables).every(function($r){return!$r.isFixedOnPage}),f=Ma({draggable:s,home:d,draggables:o.draggables,viewport:i}),v=f.impact,m=f.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:c,current:c,isWindowScrollAllowed:u,impact:v,afterCritical:m,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&x(!1);var h=I({phase:"COLLECTING"},e,{phase:"COLLECTING"});return h}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||x(!1),ts({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;be(e)||x(!1);var y=r.payload.client;return de(y,e.current.client.selection)?e:Me({state:e,clientSelection:y,impact:ot(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qr(e);be(e)||x(!1);var w=r.payload,D=w.id,E=w.newScroll,P=e.dimensions.droppables[D];if(!P)return e;var O=Dt(P,E);return Xr(e,O,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;be(e)||x(!1);var L=r.payload,A=L.id,F=L.isEnabled,R=e.dimensions.droppables[A];R||x(!1),R.isEnabled===F&&x(!1);var Q=I({},R,{isEnabled:F});return Xr(e,Q,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;be(e)||x(!1);var Z=r.payload,j=Z.id,_=Z.isCombineEnabled,ee=e.dimensions.droppables[j];ee||x(!1),ee.isCombineEnabled===_&&x(!1);var ye=I({},ee,{isCombineEnabled:_});return Xr(e,ye,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;be(e)||x(!1),e.isWindowScrollAllowed||x(!1);var se=r.payload.newScroll;if(de(e.viewport.scroll.current,se))return Qr(e);var xe=Ca(e.viewport,se);return ot(e)?Ta({state:e,viewport:xe}):Me({state:e,viewport:xe})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!be(e))return e;var ae=r.payload.maxScroll;if(de(ae,e.viewport.scroll.max))return e;var ge=I({},e.viewport,{scroll:I({},e.viewport.scroll,{max:ae})});return I({phase:"DRAGGING"},e,{viewport:ge})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&x(!1);var z=Gl({state:e,type:r.type});return z?Me({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var Be=r.payload.reason;e.phase!=="COLLECTING"&&x(!1);var er=I({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Be});return er}if(r.type==="DROP_ANIMATE"){var ue=r.payload,rr=ue.completed,tr=ue.dropDuration,nr=ue.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||x(!1);var Gr={phase:"DROP_ANIMATING",completed:rr,dropDuration:tr,newHomeClientOffset:nr,dimensions:e.dimensions};return Gr}if(r.type==="DROP_COMPLETE"){var De=r.payload.completed;return{phase:"IDLE",completed:De,shouldFlush:!1}}return e},as=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},is=function(r){return{type:"LIFT",payload:r}},os=function(r){return{type:"INITIAL_PUBLISH",payload:r}},ls=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},ss=function(){return{type:"COLLECTION_STARTING",payload:null}},us=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},cs=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},ds=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},La=function(r){return{type:"MOVE",payload:r}},ps=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},fs=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},vs=function(){return{type:"MOVE_UP",payload:null}},gs=function(){return{type:"MOVE_DOWN",payload:null}},ms=function(){return{type:"MOVE_RIGHT",payload:null}},bs=function(){return{type:"MOVE_LEFT",payload:null}},Bt=function(){return{type:"FLUSH",payload:null}},hs=function(r){return{type:"DROP_ANIMATE",payload:r}},Ot=function(r){return{type:"DROP_COMPLETE",payload:r}},Fa=function(r){return{type:"DROP",payload:r}},ys=function(r){return{type:"DROP_PENDING",payload:r}},ja=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},xs=function(e){return function(r){var t=r.getState,n=r.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,s=o.clientSelection,d=o.movementMode,p=t();p.phase==="DROP_ANIMATING"&&n(Ot({completed:p.completed})),t().phase!=="IDLE"&&x(!1),n(Bt()),n(as({draggableId:l,movementMode:d}));var c={shouldPublishImmediately:d==="SNAP"},u={draggableId:l,scrollOptions:c},f=e.startPublishing(u),v=f.critical,m=f.dimensions,b=f.viewport;n(os({critical:v,dimensions:m,clientSelection:s,movementMode:d,viewport:b}))}}}},Ds=function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}},Rt={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},We={opacity:{drop:0,combining:.7},scale:{drop:.75}},Nt={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},me=Nt.outOfTheWay+"s "+Rt.outOfTheWay,Le={fluid:"opacity "+me,snap:"transform "+me+", opacity "+me,drop:function(r){var t=r+"s "+Rt.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+me,placeholder:"height "+me+", width "+me+", margin "+me},bn=function(r){return de(r,G)?null:"translate("+r.x+"px, "+r.y+"px)"},lt={moveTo:bn,drop:function(r,t){var n=bn(r);return n?t?n+" scale("+We.scale.drop+")":n:null}},st=Nt.minDropTime,ka=Nt.maxDropTime,ws=ka-st,hn=1500,Cs=.6,Ss=function(e){var r=e.current,t=e.destination,n=e.reason,a=ke(r,t);if(a<=0)return st;if(a>=hn)return ka;var i=a/hn,o=st+ws*i,l=n==="CANCEL"?o*Cs:o;return Number(l.toFixed(2))},Is=function(e){var r=e.impact,t=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,s=K(r),d=s?l[s]:null,p=l[t.descriptor.droppableId],c=Na({impact:r,draggable:t,draggables:o,afterCritical:i,droppable:d||p,viewport:a}),u=Y(c,t.client.borderBox.center);return u},Ps=function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||t!=="DROP"){var l=Ra({draggables:r,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var s=I({},n,{displaced:Ge});return{impact:s,didDropInsideDroppable:!0}},Es=function(e){var r=e.getState,t=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=r(),o=a.payload.reason;if(i.phase==="COLLECTING"){t(ys({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&x(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||x(!1);var s=i.critical,d=i.dimensions,p=d.draggables[i.critical.draggable.id],c=Ps({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,f=c.didDropInsideDroppable,v=f?Ct(u):null,m=f?Tr(u):null,b={index:s.draggable.index,droppableId:s.droppable.id},h={draggableId:p.descriptor.id,type:p.descriptor.type,source:b,reason:o,mode:i.movementMode,destination:v,combine:m},y=Is({impact:u,draggable:p,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),w={critical:i.critical,afterCritical:i.afterCritical,result:h,impact:u},D=!de(i.current.client.offset,y)||!!h.combine;if(!D){t(Ot({completed:w}));return}var E=Ss({current:i.current.client.offset,destination:y,reason:o}),P={newHomeClientOffset:y,dropDuration:E,completed:w};t(hs(P))}}}},Ga=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function As(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function Bs(e){var r=e.onWindowScroll;function t(){r(Ga())}var n=je(t),a=As(n),i=ce;function o(){return i!==ce}function l(){o()&&x(!1),i=te(window,[a])}function s(){o()||x(!1),n.cancel(),i(),i=ce}return{start:l,stop:s,isActive:o}}var Os=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},Rs=function(e){var r=Bs({onWindowScroll:function(n){e.dispatch(ps({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&Os(n)&&r.stop(),t(n)}}},Ns=function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),a=function(o){r||t||(r=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return r},a},Ts=function(){var e=[],r=function(i){var o=wt(e,function(d){return d.timerId===i});o===-1&&x(!1);var l=e.splice(o,1),s=l[0];s.callback()},t=function(i){var o=setTimeout(function(){return r(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:t,flush:n}},Ms=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},Ls=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},Fs=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,a=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&a},Re=function(r,t){t()},ir=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},Zr=function(r,t,n,a){if(!r){n(a(t));return}var i=Ns(n),o={announce:i};r(t,o),i.wasCalled()||n(a(t))},js=function(e,r){var t=Ts(),n=null,a=function(u,f){n&&x(!1),Re("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var m={draggableId:u,mode:f};v(m)}})},i=function(u,f){n&&x(!1),Re("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(ir(u,f))})},o=function(u,f){n&&x(!1);var v=ir(u,f);n={mode:f,lastCritical:u,lastLocation:v.source,lastCombine:null},t.add(function(){Re("onDragStart",function(){return Zr(e().onDragStart,v,r,cr.onDragStart)})})},l=function(u,f){var v=Ct(f),m=Tr(f);n||x(!1);var b=!Fs(u,n.lastCritical);b&&(n.lastCritical=u);var h=!Ms(n.lastLocation,v);h&&(n.lastLocation=v);var y=!Ls(n.lastCombine,m);if(y&&(n.lastCombine=m),!(!b&&!h&&!y)){var w=I({},ir(u,n.mode),{combine:m,destination:v});t.add(function(){Re("onDragUpdate",function(){return Zr(e().onDragUpdate,w,r,cr.onDragUpdate)})})}},s=function(){n||x(!1),t.flush()},d=function(u){n||x(!1),n=null,Re("onDragEnd",function(){return Zr(e().onDragEnd,u,r,cr.onDragEnd)})},p=function(){if(n){var u=I({},ir(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(u)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:s,drop:d,abort:p}},ks=function(e,r){var t=js(e,r);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;t.beforeStart(o,i.payload.movementMode),a(i),t.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;t.flush(),a(i),t.drop(l);return}if(a(i),i.type==="FLUSH"){t.abort();return}var s=n.getState();s.phase==="DRAGGING"&&t.update(s.critical,s.impact)}}}},Gs=function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&x(!1),e.dispatch(Ot({completed:n.completed}))}}},$s=function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var s=e.getState();s.phase==="DROP_ANIMATING"&&e.dispatch(ja())}};t=requestAnimationFrame(function(){t=null,r=te(window,[o])})}}}},Ws=function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}},Us=function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Hs=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},qs=function(e){return function(r){return function(t){return function(n){if(Hs(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var a=r.getState();a.phase!=="DRAGGING"&&x(!1),e.start(a);return}t(n),e.scroll(r.getState())}}}},Vs=function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Fa({reason:n.reason})))}}}},zs=Vn,Ys=function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return qn(ns,zs(Ri(Ds(n),Ws(r),xs(r),Es,Gs,$s,Vs,qs(o),Rs,Us(t),ks(a,i))))},_r=function(){return{additions:{},removals:{},modified:{}}};function Ks(e){var r=e.registry,t=e.callbacks,n=_r(),a=null,i=function(){a||(t.collectionStarting(),a=requestAnimationFrame(function(){a=null;var p=n,c=p.additions,u=p.removals,f=p.modified,v=Object.keys(c).map(function(h){return r.draggable.getById(h).getDimension(G)}).sort(function(h,y){return h.descriptor.index-y.descriptor.index}),m=Object.keys(f).map(function(h){var y=r.droppable.getById(h),w=y.callbacks.getScrollWhileDragging();return{droppableId:h,scroll:w}}),b={additions:v,removals:Object.keys(u),modified:m};n=_r(),t.publish(b)}))},o=function(p){var c=p.descriptor.id;n.additions[c]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},l=function(p){var c=p.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},s=function(){a&&(cancelAnimationFrame(a),a=null,n=_r())};return{add:o,remove:l,stop:s}}var $a=function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,a=e.width,i=Y({x:t,y:r},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Wa=function(){var e=document.documentElement;return e||x(!1),e},Ua=function(){var e=Wa(),r=$a({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},Js=function(){var e=Ga(),r=Ua(),t=e.y,n=e.x,a=Wa(),i=a.clientWidth,o=a.clientHeight,l=n+i,s=t+o,d=ie({top:t,left:n,right:l,bottom:s}),p={frame:d,scroll:{initial:e,current:e,max:r,diff:{value:G,displacement:G}}};return p},Xs=function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,a=Js(),i=a.scroll.current,o=r.droppable,l=n.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(i,t)}),s=n.draggable.getAllByType(r.draggable.type).map(function(c){return c.getDimension(i)}),d={draggables:ba(s),droppables:ma(l)},p={dimensions:d,critical:r,viewport:a};return p};function yn(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Qs=function(e,r){var t=null,n=Ks({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),a=function(f,v){e.droppable.exists(f)||x(!1),t&&r.updateDroppableIsEnabled({id:f,isEnabled:v})},i=function(f,v){t&&(e.droppable.exists(f)||x(!1),r.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},o=function(f,v){t&&(e.droppable.exists(f)||x(!1),r.updateDroppableScroll({id:f,newScroll:v}))},l=function(f,v){t&&e.droppable.getById(f).callbacks.scroll(v)},s=function(){if(t){n.stop();var f=t.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(v){return v.callbacks.dragStopped()}),t.unsubscribe(),t=null}},d=function(f){t||x(!1);var v=t.critical.draggable;f.type==="ADDITION"&&yn(e,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&yn(e,v,f.value)&&n.remove(f.value)},p=function(f){t&&x(!1);var v=e.draggable.getById(f.draggableId),m=e.droppable.getById(v.descriptor.droppableId),b={draggable:v.descriptor,droppable:m.descriptor},h=e.subscribe(d);return t={critical:b,unsubscribe:h},Xs({critical:b,registry:e,scrollOptions:f.scrollOptions})},c={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:p,stopPublishing:s};return c},Ha=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},Zs=function(e){window.scrollBy(e.x,e.y)},_s=k(function(e){return Nr(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),eu=function(r,t){var n=ve(_s(t),function(a){return a.frame||x(!1),Ea(a.frame.pageMarginBox)(r)});return n},ru=function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var a=n[t];return a.frame?a:null}var i=eu(r,n);return i},pe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},tu=function(e,r){var t=e[r.size]*pe.startFromPercentage,n=e[r.size]*pe.maxScrollAtPercentage,a={startScrollingFrom:t,maxScrollValueAt:n};return a},qa=function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,a=t-r;if(a===0)return 0;var i=n-r,o=i/a;return o},Tt=1,nu=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return pe.maxPixelScroll;if(e===r.startScrollingFrom)return Tt;var t=qa({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,a=pe.maxPixelScroll*pe.ease(n);return Math.ceil(a)},xn=pe.durationDampening.accelerateAt,Dn=pe.durationDampening.stopDampeningAt,au=function(e,r){var t=r,n=Dn,a=Date.now(),i=a-t;if(i>=Dn)return e;if(i<xn)return Tt;var o=qa({startOfRange:xn,endOfRange:n,current:i}),l=e*pe.ease(o);return Math.ceil(l)},wn=function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=nu(r,t);return i===0?0:a?Math.max(au(i,n),Tt):i},Cn=function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=tu(r,a),l=t[a.end]<t[a.start];return l?wn({distanceToEdge:t[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*wn({distanceToEdge:t[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},iu=function(e){var r=e.container,t=e.subject,n=e.proposedScroll,a=t.height>r.height,i=t.width>r.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},ou=va(function(e){return e===0?0:e}),Va=function(e){var r=e.dragStartTime,t=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},l=Cn({container:t,distanceToEdges:o,dragStartTime:r,axis:St,shouldUseTimeDampening:i}),s=Cn({container:t,distanceToEdges:o,dragStartTime:r,axis:xa,shouldUseTimeDampening:i}),d=ou({x:s,y:l});if(de(d,G))return null;var p=iu({container:t,subject:n,proposedScroll:d});return p?de(p,G)?null:p:null},lu=va(function(e){return e===0?0:e>0?1:-1}),Mt=function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,a=r.change,i=U(t,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return de(o,G)?null:o}}(),za=function(r){var t=r.max,n=r.current,a=r.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=lu(a),l=Mt({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Lt=function(r,t){return za({current:r.scroll.current,max:r.scroll.max,change:t})},su=function(r,t){if(!Lt(r,t))return null;var n=r.scroll.max,a=r.scroll.current;return Mt({current:a,max:n,change:t})},Ft=function(r,t){var n=r.frame;return n?za({current:n.scroll.current,max:n.scroll.max,change:t}):!1},uu=function(r,t){var n=r.frame;return!n||!Ft(r,t)?null:Mt({current:n.scroll.current,max:n.scroll.max,change:t})},cu=function(e){var r=e.viewport,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Va({dragStartTime:a,container:r.frame,subject:t,center:n,shouldUseTimeDampening:i});return o&&Lt(r,o)?o:null},du=function(e){var r=e.droppable,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var l=Va({dragStartTime:a,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i});return l&&Ft(r,l)?l:null},Sn=function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],s=l.page.marginBox;if(r.isWindowScrollAllowed){var d=r.viewport,p=cu({dragStartTime:t,viewport:d,subject:s,center:o,shouldUseTimeDampening:n});if(p){a(p);return}}var c=ru({center:o,destination:K(r.impact),droppables:r.dimensions.droppables});if(c){var u=du({dragStartTime:t,droppable:c,subject:s,center:o,shouldUseTimeDampening:n});u&&i(c.descriptor.id,u)}},pu=function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=je(r),a=je(t),i=null,o=function(p){i||x(!1);var c=i,u=c.shouldUseTimeDampening,f=c.dragStartTime;Sn({state:p,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u})},l=function(p){i&&x(!1);var c=Date.now(),u=!1,f=function(){u=!0};Sn({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:c,shouldUseTimeDampening:u},u&&o(p)},s=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:s,scroll:o}},fu=function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,a=function(d,p){var c=U(d.current.client.selection,p);r({client:c})},i=function(d,p){if(!Ft(d,p))return p;var c=uu(d,p);if(!c)return t(d.descriptor.id,p),null;var u=Y(p,c);t(d.descriptor.id,u);var f=Y(p,u);return f},o=function(d,p,c){if(!d||!Lt(p,c))return c;var u=su(p,c);if(!u)return n(c),null;var f=Y(c,u);n(f);var v=Y(c,f);return v},l=function(d){var p=d.scrollJumpRequest;if(p){var c=K(d.impact);c||x(!1);var u=i(d.dimensions.droppables[c],p);if(u){var f=d.viewport,v=o(d.isWindowScrollAllowed,f,u);v&&a(d,v)}}};return l},vu=function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,a=pu({scrollWindow:t,scrollDroppable:r}),i=fu({move:n,scrollWindow:t,scrollDroppable:r}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},Se="data-rbd",Ie=function(){var e=Se+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),ut=function(){var e=Se+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gu=function(){var e=Se+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),In={contextId:Se+"-scroll-container-context-id"},mu=function(r){return function(t){return"["+t+'="'+r+'"]'}},Ne=function(r,t){return r.map(function(n){var a=n.styles[t];return a?n.selector+" { "+a+" }":""}).join(" ")},bu="pointer-events: none;",hu=function(e){var r=mu(e),t=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Ie.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:bu,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Le.outOfTheWay+`;
    `;return{selector:r(ut.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:r(gu.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,t,a,i];return{always:Ne(o,"always"),resting:Ne(o,"resting"),dragging:Ne(o,"dragging"),dropAnimating:Ne(o,"dropAnimating"),userCancel:Ne(o,"userCancel")}},J=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,et=function(){var r=document.querySelector("head");return r||x(!1),r},Pn=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function yu(e,r){var t=B(function(){return hu(e)},[e]),n=C.useRef(null),a=C.useRef(null),i=S(k(function(c){var u=a.current;u||x(!1),u.textContent=c}),[]),o=S(function(c){var u=n.current;u||x(!1),u.textContent=c},[]);J(function(){!n.current&&!a.current||x(!1);var c=Pn(r),u=Pn(r);return n.current=c,a.current=u,c.setAttribute(Se+"-always",e),u.setAttribute(Se+"-dynamic",e),et().appendChild(c),et().appendChild(u),o(t.always),i(t.resting),function(){var f=function(m){var b=m.current;b||x(!1),et().removeChild(b),m.current=null};f(n),f(a)}},[r,o,i,t.always,t.resting,e]);var l=S(function(){return i(t.dragging)},[i,t.dragging]),s=S(function(c){if(c==="DROP"){i(t.dropAnimating);return}i(t.userCancel)},[i,t.dropAnimating,t.userCancel]),d=S(function(){a.current&&i(t.resting)},[i,t.resting]),p=B(function(){return{dragging:l,dropping:s,resting:d}},[l,s,d]);return p}var Ya=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Fr(e){return e instanceof Ya(e).HTMLElement}function xu(e,r){var t="["+Ie.contextId+'="'+e+'"]',n=ga(document.querySelectorAll(t));if(!n.length)return null;var a=ve(n,function(i){return i.getAttribute(Ie.draggableId)===r});return!a||!Fr(a)?null:a}function Du(e){var r=C.useRef({}),t=C.useRef(null),n=C.useRef(null),a=C.useRef(!1),i=S(function(u,f){var v={id:u,focus:f};return r.current[u]=v,function(){var b=r.current,h=b[u];h!==v&&delete b[u]}},[]),o=S(function(u){var f=xu(e,u);f&&f!==document.activeElement&&f.focus()},[e]),l=S(function(u,f){t.current===u&&(t.current=f)},[]),s=S(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var u=t.current;u&&o(u)}))},[o]),d=S(function(u){t.current=null;var f=document.activeElement;f&&f.getAttribute(Ie.draggableId)===u&&(t.current=u)},[]);J(function(){return a.current=!0,function(){a.current=!1;var u=n.current;u&&cancelAnimationFrame(u)}},[]);var p=B(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:s,tryShiftRecord:l}},[i,d,s,l]);return p}function wu(){var e={draggables:{},droppables:{}},r=[];function t(c){return r.push(c),function(){var f=r.indexOf(c);f!==-1&&r.splice(f,1)}}function n(c){r.length&&r.forEach(function(u){return u(c)})}function a(c){return e.draggables[c]||null}function i(c){var u=a(c);return u||x(!1),u}var o={register:function(u){e.draggables[u.descriptor.id]=u,n({type:"ADDITION",value:u})},update:function(u,f){var v=e.draggables[f.descriptor.id];v&&v.uniqueId===u.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:function(u){var f=u.descriptor.id,v=a(f);v&&u.uniqueId===v.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:u}))},getById:i,findById:a,exists:function(u){return!!a(u)},getAllByType:function(u){return mr(e.draggables).filter(function(f){return f.descriptor.type===u})}};function l(c){return e.droppables[c]||null}function s(c){var u=l(c);return u||x(!1),u}var d={register:function(u){e.droppables[u.descriptor.id]=u},unregister:function(u){var f=l(u.descriptor.id);f&&u.uniqueId===f.uniqueId&&delete e.droppables[u.descriptor.id]},getById:s,findById:l,exists:function(u){return!!l(u)},getAllByType:function(u){return mr(e.droppables).filter(function(f){return f.descriptor.type===u})}};function p(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:d,subscribe:t,clean:p}}function Cu(){var e=B(wu,[]);return C.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var jt=M.createContext(null),hr=function(){var e=document.body;return e||x(!1),e},Su={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Iu=function(r){return"rbd-announcement-"+r};function Pu(e){var r=B(function(){return Iu(e)},[e]),t=C.useRef(null);C.useEffect(function(){var i=document.createElement("div");return t.current=i,i.id=r,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),I(i.style,Su),hr().appendChild(i),function(){setTimeout(function(){var s=hr();s.contains(i)&&s.removeChild(i),i===t.current&&(t.current=null)})}},[r]);var n=S(function(a){var i=t.current;if(i){i.textContent=a;return}},[]);return n}var Eu=0,Au={separator:"::"};function kt(e,r){return r===void 0&&(r=Au),B(function(){return""+e+r.separator+Eu++},[r.separator,e])}function Bu(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function Ou(e){var r=e.contextId,t=e.text,n=kt("hidden-text",{separator:"-"}),a=B(function(){return Bu({contextId:r,uniqueId:n})},[n,r]);return C.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=t,o.style.display="none",hr().appendChild(o),function(){var s=hr();s.contains(o)&&s.removeChild(o)}},[a,t]),a}var jr=M.createContext(null);function Ka(e){var r=C.useRef(e);return C.useEffect(function(){r.current=e}),r}function Ru(){var e=null;function r(){return!!e}function t(o){return o===e}function n(o){e&&x(!1);var l={abandon:o};return e=l,l}function a(){e||x(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:r,isActive:t,claim:n,release:a,tryAbandon:i}}var Nu=9,Tu=13,Gt=27,Ja=32,Mu=33,Lu=34,Fu=35,ju=36,ku=37,Gu=38,$u=39,Wu=40,or,Uu=(or={},or[Tu]=!0,or[Nu]=!0,or),Xa=function(e){Uu[e.keyCode]&&e.preventDefault()},kr=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=ve(r,function(n){return"on"+n in document});return t||e}(),Qa=0,En=5;function Hu(e,r){return Math.abs(r.x-e.x)>=En||Math.abs(r.y-e.y)>=En}var An={type:"IDLE"};function qu(e){var r=e.cancel,t=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,s=o.clientX,d=o.clientY;if(l===Qa){var p={x:s,y:d},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(p);return}c.type!=="PENDING"&&x(!1);var u=c.point;if(Hu(u,p)){o.preventDefault();var f=c.actions.fluidLift(p);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){r();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){r();return}if(o.keyCode===Gt){o.preventDefault(),r();return}Xa(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&x(!1),l.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:kr,fn:r}]}function Vu(e){var r=C.useRef(An),t=C.useRef(ce),n=B(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===Qa&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var u=e.findClosestDraggableId(c);if(u){var f=e.tryGetLock(u,o,{sourceEvent:c});if(f){c.preventDefault();var v={x:c.clientX,y:c.clientY};t.current(),d(f,v)}}}}}},[e]),a=B(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var u=e.findClosestDraggableId(c);if(u){var f=e.findOptionsForDraggable(u);f&&(f.shouldRespectForcePress||e.canGetLock(u)&&c.preventDefault())}}}}},[e]),i=S(function(){var c={passive:!1,capture:!0};t.current=te(window,[a,n],c)},[a,n]),o=S(function(){var p=r.current;p.type!=="IDLE"&&(r.current=An,t.current(),i())},[i]),l=S(function(){var p=r.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),s=S(function(){var c={capture:!0,passive:!1},u=qu({cancel:l,completed:o,getPhase:function(){return r.current},setPhase:function(v){r.current=v}});t.current=te(window,u,c)},[l,o]),d=S(function(c,u){r.current.type!=="IDLE"&&x(!1),r.current={type:"PENDING",point:u,actions:c},s()},[s]);J(function(){return i(),function(){t.current()}},[i])}var we;function zu(){}var Yu=(we={},we[Lu]=!0,we[Mu]=!0,we[ju]=!0,we[Fu]=!0,we);function Ku(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Gt){i.preventDefault(),t();return}if(i.keyCode===Ja){i.preventDefault(),n();return}if(i.keyCode===Wu){i.preventDefault(),e.moveDown();return}if(i.keyCode===Gu){i.preventDefault(),e.moveUp();return}if(i.keyCode===$u){i.preventDefault(),e.moveRight();return}if(i.keyCode===ku){i.preventDefault(),e.moveLeft();return}if(Yu[i.keyCode]){i.preventDefault();return}Xa(i)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:kr,fn:t}]}function Ju(e){var r=C.useRef(zu),t=B(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Ja)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,p,{sourceEvent:i});if(!l)return;i.preventDefault();var s=!0,d=l.snapLift();r.current();function p(){s||x(!1),s=!1,r.current(),n()}r.current=te(window,Ku(d,p),{capture:!0,passive:!1})}}},[e]),n=S(function(){var i={passive:!1,capture:!0};r.current=te(window,[t],i)},[t]);J(function(){return n(),function(){r.current()}},[n])}var rt={type:"IDLE"},Xu=120,Qu=.15;function Zu(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(t().type!=="DRAGGING"){r();return}a.keyCode===Gt&&a.preventDefault(),r()}},{eventName:kr,fn:r}]}function _u(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var l=i.touches[0],s=l.clientX,d=l.clientY,p={x:s,y:d};i.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&x(!1);var l=i.touches[0];if(l){var s=l.force>=Qu;if(s){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&r();return}if(d){if(o.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}}}},{eventName:kr,fn:r}]}function ec(e){var r=C.useRef(rt),t=C.useRef(ce),n=S(function(){return r.current},[]),a=S(function(f){r.current=f},[]),i=B(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var v=e.findClosestDraggableId(f);if(v){var m=e.tryGetLock(v,l,{sourceEvent:f});if(m){var b=f.touches[0],h=b.clientX,y=b.clientY,w={x:h,y};t.current(),c(m,w)}}}}}},[e]),o=S(function(){var f={capture:!0,passive:!1};t.current=te(window,[i],f)},[i]),l=S(function(){var u=r.current;u.type!=="IDLE"&&(u.type==="PENDING"&&clearTimeout(u.longPressTimerId),a(rt),t.current(),o())},[o,a]),s=S(function(){var u=r.current;l(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[l]),d=S(function(){var f={capture:!0,passive:!1},v={cancel:s,completed:l,getPhase:n},m=te(window,_u(v),f),b=te(window,Zu(v),f);t.current=function(){m(),b()}},[s,n,l]),p=S(function(){var f=n();f.type!=="PENDING"&&x(!1);var v=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),c=S(function(f,v){n().type!=="IDLE"&&x(!1);var m=setTimeout(p,Xu);a({type:"PENDING",point:v,actions:f,longPressTimerId:m}),d()},[d,n,a,p]);J(function(){return o(),function(){t.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(rt))}},[n,o,a]),J(function(){var f=te(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var rc={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Za(e,r){if(r==null)return!1;var t=!!rc[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:Za(e,r.parentElement)}function tc(e,r){var t=r.target;return Fr(t)?Za(e,t):!1}var nc=function(e){return ie(e.getBoundingClientRect()).center};function ac(e){return e instanceof Ya(e).Element}var ic=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=ve(r,function(n){return n in Element.prototype});return t||e}();function _a(e,r){return e==null?null:e[ic](r)?e:_a(e.parentElement,r)}function oc(e,r){return e.closest?e.closest(r):_a(e,r)}function lc(e){return"["+Ie.contextId+'="'+e+'"]'}function sc(e,r){var t=r.target;if(!ac(t))return null;var n=lc(e),a=oc(t,n);return!a||!Fr(a)?null:a}function uc(e,r){var t=sc(e,r);return t?t.getAttribute(Ie.draggableId):null}function cc(e,r){var t="["+ut.contextId+'="'+e+'"]',n=ga(document.querySelectorAll(t)),a=ve(n,function(i){return i.getAttribute(ut.id)===r});return!a||!Fr(a)?null:a}function dc(e){e.preventDefault()}function lr(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function ei(e){var r=e.lockAPI,t=e.store,n=e.registry,a=e.draggableId;if(r.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!Ha(t.getState(),a))}function pc(e){var r=e.lockAPI,t=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,s=ei({lockAPI:r,store:n,registry:a,draggableId:i});if(!s)return null;var d=a.draggable.getById(i),p=cc(t,d.descriptor.id);if(!p||l&&!d.options.canDragInteractiveElements&&tc(p,l))return null;var c=r.claim(o||ce),u="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}function v(){return r.isActive(c)}function m(P,O){lr({expected:P,phase:u,isLockActive:v,shouldWarn:!0})&&n.dispatch(O())}var b=m.bind(null,"DRAGGING");function h(P){function O(){r.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(O(),u!=="PRE_DRAG"&&x(!1)),n.dispatch(is(P.liftActionArgs)),u="DRAGGING";function L(A,F){if(F===void 0&&(F={shouldBlockNextClick:!1}),P.cleanup(),F.shouldBlockNextClick){var R=te(window,[{eventName:"click",fn:dc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(R)}O(),n.dispatch(Fa({reason:A}))}return I({isActive:function(){return lr({expected:"DRAGGING",phase:u,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(F){return L("DROP",F)},cancel:function(F){return L("CANCEL",F)}},P.actions)}function y(P){var O=je(function(A){b(function(){return La({client:A})})}),L=h({liftActionArgs:{id:i,clientSelection:P,movementMode:"FLUID"},cleanup:function(){return O.cancel()},actions:{move:O}});return I({},L,{move:O})}function w(){var P={moveUp:function(){return b(vs)},moveRight:function(){return b(ms)},moveDown:function(){return b(gs)},moveLeft:function(){return b(bs)}};return h({liftActionArgs:{id:i,clientSelection:nc(p),movementMode:"SNAP"},cleanup:ce,actions:P})}function D(){var P=lr({expected:"PRE_DRAG",phase:u,isLockActive:v,shouldWarn:!0});P&&r.release()}var E={isActive:function(){return lr({expected:"PRE_DRAG",phase:u,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:y,snapLift:w,abort:D};return E}var fc=[Vu,Ju,ec];function vc(e){var r=e.contextId,t=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?fc:[],a||[]),l=C.useState(function(){return Ru()})[0],s=S(function(y,w){y.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);J(function(){var y=t.getState(),w=t.subscribe(function(){var D=t.getState();s(y,D),y=D});return w},[l,t,s]),J(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=S(function(h){return ei({lockAPI:l,registry:n,store:t,draggableId:h})},[l,n,t]),p=S(function(h,y,w){return pc({lockAPI:l,registry:n,contextId:r,store:t,draggableId:h,forceSensorStop:y,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[r,l,n,t]),c=S(function(h){return uc(r,h)},[r]),u=S(function(h){var y=n.draggable.findById(h);return y?y.options:null},[n.draggable]),f=S(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Bt()))},[l,t]),v=S(l.isClaimed,[l]),m=B(function(){return{canGetLock:d,tryGetLock:p,findClosestDraggableId:c,findOptionsForDraggable:u,tryReleaseLock:f,isLockClaimed:v}},[d,p,c,u,f,v]),b=0;b<o.length;b++)o[b](m)}var gc=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function Te(e){return e.current||x(!1),e.current}function mc(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=C.useRef(null),l=Ka(e),s=S(function(){return gc(l.current)},[l]),d=Pu(r),p=Ou({contextId:r,text:i}),c=yu(r,a),u=S(function(A){Te(o).dispatch(A)},[]),f=B(function(){return Xt({publishWhileDragging:ls,updateDroppableScroll:us,updateDroppableIsEnabled:cs,updateDroppableIsCombineEnabled:ds,collectionStarting:ss},u)},[u]),v=Cu(),m=B(function(){return Qs(v,f)},[v,f]),b=B(function(){return vu(I({scrollWindow:Zs,scrollDroppable:m.scrollDroppable},Xt({move:La},u)))},[m.scrollDroppable,u]),h=Du(r),y=B(function(){return Ys({announce:d,autoScroller:b,dimensionMarshal:m,focusMarshal:h,getResponders:s,styleMarshal:c})},[d,b,m,h,s,c]);o.current=y;var w=S(function(){var A=Te(o),F=A.getState();F.phase!=="IDLE"&&A.dispatch(Bt())},[]),D=S(function(){var A=Te(o).getState();return A.isDragging||A.phase==="DROP_ANIMATING"},[]),E=B(function(){return{isDragging:D,tryAbort:w}},[D,w]);t(E);var P=S(function(A){return Ha(Te(o).getState(),A)},[]),O=S(function(){return be(Te(o).getState())},[]),L=B(function(){return{marshal:m,focus:h,contextId:r,canLift:P,isMovementAllowed:O,dragHandleUsageInstructionsId:p,registry:v}},[r,m,p,h,P,O,v]);return vc({contextId:r,store:y,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),C.useEffect(function(){return w},[w]),M.createElement(jr.Provider,{value:L},M.createElement(Fi,{context:jt,store:y},e.children))}var bc=0;function hc(){return B(function(){return""+bc++},[])}function yc(e){var r=hc(),t=e.dragHandleUsageInstructions||cr.dragHandleUsageInstructions;return M.createElement(Jo,null,function(n){return M.createElement(mc,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ri=function(r){return function(t){return r===t}},xc=ri("scroll"),Dc=ri("auto"),Bn=function(r,t){return t(r.overflowX)||t(r.overflowY)},wc=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return Bn(n,xc)||Bn(n,Dc)},Cc=function(){return!1},Sc=function e(r){return r==null?null:r===document.body?Cc()?r:null:r===document.documentElement?null:wc(r)?r:e(r.parentElement)},ct=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ic=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},Pc=function(e){var r=Sc(e),t=Ic(e);return{closestScrollable:r,isFixedOnPage:t}},Ec=function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,s=e.closest,d=function(){if(!s)return null;var f=s.scrollSize,v=s.client,m=$a({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:m,diff:{value:G,displacement:G}}}}(),p=i==="vertical"?St:xa,c=Ce({page:l,withPlaceholder:null,axis:p,frame:d}),u={descriptor:r,isCombineEnabled:n,isFixedOnPage:a,axis:p,isEnabled:t,client:o,page:l,frame:d,subject:c};return u},Ac=function(r,t){var n=ca(r);if(!t||r!==t)return n;var a=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=a+t.scrollHeight,l=i+t.scrollWidth,s={top:a,right:l,bottom:o,left:i},d=yt(s,n.border),p=xt({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return p},Bc=function(e){var r=e.ref,t=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,d=n.closestScrollable,p=Ac(r,d),c=fr(p,a),u=function(){if(!d)return null;var v=ca(d),m={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:fr(v,a),scroll:ct(d),scrollSize:m,shouldClipSubject:s}}(),f=Ec({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:p,page:c,closest:u});return f},Oc={passive:!1},Rc={passive:!0},On=function(e){return e.shouldPublishImmediately?Oc:Rc};function yr(e){var r=C.useContext(e);return r||x(!1),r}var sr=function(r){return r&&r.env.closestScrollable||null};function Nc(e){var r=C.useRef(null),t=yr(jr),n=kt("droppable"),a=t.registry,i=t.marshal,o=Ka(e),l=B(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),s=C.useRef(l),d=B(function(){return k(function(D,E){r.current||x(!1);var P={x:D,y:E};i.updateDroppableScroll(l.id,P)})},[l.id,i]),p=S(function(){var D=r.current;return!D||!D.env.closestScrollable?G:ct(D.env.closestScrollable)},[]),c=S(function(){var D=p();d(D.x,D.y)},[p,d]),u=B(function(){return je(c)},[c]),f=S(function(){var D=r.current,E=sr(D);D&&E||x(!1);var P=D.scrollOptions;if(P.shouldPublishImmediately){c();return}u()},[u,c]),v=S(function(D,E){r.current&&x(!1);var P=o.current,O=P.getDroppableRef();O||x(!1);var L=Pc(O),A={ref:O,descriptor:l,env:L,scrollOptions:E};r.current=A;var F=Bc({ref:O,descriptor:l,env:L,windowScroll:D,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),R=L.closestScrollable;return R&&(R.setAttribute(In.contextId,t.contextId),R.addEventListener("scroll",f,On(A.scrollOptions))),F},[t.contextId,l,f,o]),m=S(function(){var D=r.current,E=sr(D);return D&&E||x(!1),ct(E)},[]),b=S(function(){var D=r.current;D||x(!1);var E=sr(D);r.current=null,E&&(u.cancel(),E.removeAttribute(In.contextId),E.removeEventListener("scroll",f,On(D.scrollOptions)))},[f,u]),h=S(function(D){var E=r.current;E||x(!1);var P=sr(E);P||x(!1),P.scrollTop+=D.y,P.scrollLeft+=D.x},[]),y=B(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:b,scroll:h}},[b,v,m,h]),w=B(function(){return{uniqueId:n,descriptor:l,callbacks:y}},[y,l,n]);J(function(){return s.current=w.descriptor,a.droppable.register(w),function(){r.current&&b(),a.droppable.unregister(w)}},[y,l,b,w,i,a.droppable]),J(function(){r.current&&i.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),J(function(){r.current&&i.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function tt(){}var Rn={width:0,height:0,margin:rl},Tc=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate;return t||a==="close"?Rn:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Mc=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate,i=Tc({isAnimatingOpenOnMount:t,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Le.placeholder:null}};function Lc(e){var r=C.useRef(null),t=S(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=C.useState(e.animate==="open"),s=l[0],d=l[1];C.useEffect(function(){return s?n!=="open"?(t(),d(!1),tt):r.current?tt:(r.current=setTimeout(function(){r.current=null,d(!1)}),t):tt},[n,s,t]);var p=S(function(u){u.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),c=Mc({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return M.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:p,ref:e.innerRef})}var Fc=M.memo(Lc),$t=M.createContext(null),jc=function(e){Hn(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},r}(M.PureComponent),Nn={dragging:5e3,dropAnimating:4500},kc=function(r,t){return t?Le.drop(t.duration):r?Le.snap:Le.fluid},Gc=function(r,t){return r?t?We.opacity.drop:We.opacity.combining:null},$c=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function Wc(e){var r=e.dimension,t=r.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=$c(e),s=!!i,d=s?lt.drop(n,o):lt.moveTo(n),p={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:kc(l,i),transform:d,opacity:Gc(o,s),zIndex:s?Nn.dropAnimating:Nn.dragging,pointerEvents:"none"};return p}function Uc(e){return{transform:lt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Hc(e){return e.type==="DRAGGING"?Wc(e):Uc(e)}function qc(e,r,t){t===void 0&&(t=G);var n=window.getComputedStyle(r),a=r.getBoundingClientRect(),i=ua(a,n),o=fr(i,t),l={client:i,tagName:r.tagName.toLowerCase(),display:n.display},s={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:s,client:i,page:o};return d}function Vc(e){var r=kt("draggable"),t=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,s=B(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=S(function(f){var v=a();return v||x(!1),qc(t,v,f)},[t,a]),p=B(function(){return{uniqueId:r,descriptor:t,options:s,getDimension:d}},[t,d,s,r]),c=C.useRef(p),u=C.useRef(!0);J(function(){return n.draggable.register(c.current),function(){return n.draggable.unregister(c.current)}},[n.draggable]),J(function(){if(u.current){u.current=!1;return}var f=c.current;c.current=p,n.draggable.update(p,f)},[p,n.draggable])}function zc(e){e.preventDefault()}function Yc(e){var r=C.useRef(null),t=S(function(A){r.current=A},[]),n=S(function(){return r.current},[]),a=yr(jr),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,s=yr($t),d=s.type,p=s.droppableId,c=B(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:p}},[e.draggableId,e.index,d,p]),u=e.children,f=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,b=e.canDragInteractiveElements,h=e.isClone,y=e.mapped,w=e.dropAnimationFinished;if(!h){var D=B(function(){return{descriptor:c,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:m,isEnabled:v}},[c,l,n,b,m,v]);Vc(D)}var E=B(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:zc}:null},[i,o,f,v]),P=S(function(A){y.type==="DRAGGING"&&y.dropping&&A.propertyName==="transform"&&w()},[w,y]),O=B(function(){var A=Hc(y),F=y.type==="DRAGGING"&&y.dropping?P:null,R={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:A,onTransitionEnd:F},dragHandleProps:E};return R},[i,E,f,y,P,t]),L=B(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return u(O,y.snapshot,L)}var ti=function(e,r){return e===r},ni=function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null},Kc=function(r){return r.combine?r.combine.draggableId:null},Jc=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function Xc(){var e=k(function(a,i){return{x:a,y:i}}),r=k(function(a,i,o,l,s){return{isDragging:!0,isClone:i,isDropAnimating:!!s,dropAnimation:s,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),t=k(function(a,i,o,l,s,d,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:p,snapshot:r(i,l,s,d,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,s=i.dimensions.draggables[o.draggableId],d=K(i.impact),p=Jc(i.impact),c=i.forceShouldAnimate;return t(e(l.x,l.y),i.movementMode,s,o.isClone,d,p,c)}if(i.phase==="DROP_ANIMATING"){var u=i.completed;if(u.result.draggableId!==o.draggableId)return null;var f=o.isClone,v=i.dimensions.draggables[o.draggableId],m=u.result,b=m.mode,h=ni(m),y=Kc(m),w=i.dropDuration,D={duration:w,curve:Rt.drop,moveTo:i.newHomeClientOffset,opacity:y?We.opacity.drop:null,scale:y?We.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:D,draggingOver:h,combineWith:y,mode:b,forceShouldAnimate:null,snapshot:r(b,f,h,y,D)}}}return null};return n}function ai(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Qc={mapped:{type:"SECONDARY",offset:G,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ai(null)}};function Zc(){var e=k(function(o,l){return{x:o,y:l}}),r=k(ai),t=k(function(o,l,s){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:s,snapshot:r(l)}}}),n=function(l){return l?t(G,l,!0):null},a=function(l,s,d,p){var c=d.displaced.visible[l],u=!!(p.inVirtualList&&p.effected[l]),f=Tr(d),v=f&&f.draggableId===l?s:null;if(!c){if(!u)return n(v);if(d.displaced.invisible[l])return null;var m=Pe(p.displacedBy.point),b=e(m.x,m.y);return t(b,v,!0)}if(u)return n(v);var h=d.displacedBy.point,y=e(h.x,h.y);return t(y,v,c.shouldAnimate)},i=function(l,s){if(l.isDragging)return l.critical.draggable.id===s.draggableId?null:a(s.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===s.draggableId?null:a(s.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var _c=function(){var r=Xc(),t=Zc(),n=function(i,o){return r(i,o)||t(i,o)||Qc};return n},ed={dropAnimationFinished:ja},rd=la(_c,ed,null,{context:jt,pure:!0,areStatePropsEqual:ti})(Yc);function ii(e){var r=yr($t),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:M.createElement(rd,e)}function oi(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return M.createElement(ii,I({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function td(e){var r=C.useContext(jr);r||x(!1);var t=r.contextId,n=r.isMovementAllowed,a=C.useRef(null),i=C.useRef(null),o=e.children,l=e.droppableId,s=e.type,d=e.mode,p=e.direction,c=e.ignoreContainerClipping,u=e.isDropDisabled,f=e.isCombineEnabled,v=e.snapshot,m=e.useClone,b=e.updateViewportMaxScroll,h=e.getContainerForClone,y=S(function(){return a.current},[]),w=S(function(R){a.current=R},[]);S(function(){return i.current},[]);var D=S(function(R){i.current=R},[]),E=S(function(){n()&&b({maxScroll:Ua()})},[n,b]);Nc({droppableId:l,type:s,mode:d,direction:p,isDropDisabled:u,isCombineEnabled:f,ignoreContainerClipping:c,getDroppableRef:y});var P=M.createElement(jc,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(R){var Q=R.onClose,Z=R.data,j=R.animate;return M.createElement(Fc,{placeholder:Z,onClose:Q,innerRef:D,animate:j,contextId:t,onTransitionEnd:E})}),O=B(function(){return{innerRef:w,placeholder:P,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":t}}},[t,l,P,w]),L=m?m.dragging.draggableId:null,A=B(function(){return{droppableId:l,type:s,isUsingCloneFor:L}},[l,L,s]);function F(){if(!m)return null;var R=m.dragging,Q=m.render,Z=M.createElement(ii,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(j,_){return Q(j,_,R)});return di.createPortal(Z,h())}return M.createElement($t.Provider,{value:A},o(O,v),F())}var nt=function(r,t){return r===t.droppable.type},Tn=function(r,t){return t.draggables[r.draggable.id]},nd=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=I({},r,{shouldAnimatePlaceholder:!1}),n=k(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=k(function(o,l,s,d,p,c){var u=p.descriptor.id,f=p.descriptor.droppableId===o;if(f){var v=c?{render:c,dragging:n(p.descriptor)}:null,m={isDraggingOver:s,draggingOverWith:s?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:v}}if(!l)return t;if(!d)return r;var b={isDraggingOver:s,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(l,s){var d=s.droppableId,p=s.type,c=!s.isDropDisabled,u=s.renderClone;if(l.isDragging){var f=l.critical;if(!nt(p,f))return t;var v=Tn(f,l.dimensions),m=K(l.impact)===d;return a(d,c,m,m,v,u)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!nt(p,b.critical))return t;var h=Tn(b.critical,l.dimensions);return a(d,c,ni(b.result)===d,K(b.impact)===d,h,u)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var y=l.completed;if(!nt(p,y.critical))return t;var w=K(y.impact)===d,D=!!(y.impact.at&&y.impact.at.type==="COMBINE"),E=y.critical.droppable.id===d;return w?D?r:t:E?r:t}return t};return i},ad={updateViewportMaxScroll:fs};function id(){return document.body||x(!1),document.body}var od={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:id},li=la(nd,ad,null,{context:jt,pure:!0,areStatePropsEqual:ti})(td);li.defaultProps=od;async function ld(e,r,t){const{destination:n,source:a,draggableId:i,type:o}=e;if(n&&!(n.droppableId===a.droppableId&&n.index===a.index)){if(o==="task"){const l=r.lists.find(b=>b.list_id===a.droppableId),s=r.lists.find(b=>b.list_id===n.droppableId);if(!l||!s)return;const d=l.tasks.find(b=>b.task_id===i);if(!d)return;const p=s.list_id!==l.list_id?[l,s]:[s],c=0,u=p.length-1,f=Array.from(p[c].tasks),v=Array.from(p[u].tasks),m=u===0?[v]:[f,v];if(m[c].splice(a.index,1),m[u].splice(n.index,0,d),p[c]={...p[c],tasks:m[c]},p[u]={...p[u],tasks:m[u]},t({...r,lists:r.lists.map(b=>b.list_id===p[c].list_id?p[c]:b.list_id===p[u].list_id?p[u]:b)}),p.length===2)try{await H.patch(`/task/${d.task_id}`,{listID:p[u].list_id})}catch(b){oe(b);return}for(const b of p)try{await H.patch("/task/order",{order:Array.from(b.tasks,h=>h.task_id),projectID:r.project_id}),b.tasks=b.tasks.map((h,y)=>({...h,order_num:y+1}))}catch(h){oe(h);return}t({...r,lists:r.lists.map(b=>b.list_id===p[c].list_id?p[c]:b.list_id===p[u].list_id?p[u]:b)}),Ht.success("Task moved successfully")}else if(o==="list"){const l=r.lists,s=l.find(d=>d.list_id===i);if(!s)return;l.splice(a.index,1),l.splice(n.index,0,s);try{await H.patch("/list/order",{projectID:r.project_id,order:Array.from(l,d=>d.list_id)})}catch(d){oe(d);return}t({...r,lists:l.map((d,p)=>({...d,order_num:p+1}))}),Ht.success("List moved successfully")}}}const Mn=({children:e,...r})=>{const[t,n]=C.useState(!1);return C.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(a),n(!1)}},[]),t?g.jsx(li,{...r,children:e}):null};function sd(e){const[r,t]=C.useState(Array.from(e.list.tasks.map(a=>!1)));function n(a){t(i=>i.map((o,l)=>a===l?!o:o))}return g.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.list.tasks.map((a,i)=>g.jsx(oi,{draggableId:a.task_id,index:i,children:(o,l)=>g.jsxs("div",{className:`p-4 rounded-2xl border-2 shadow-sm w-full 
                    ${l.isDragging?"bg-gray-200":"bg-white"}`,ref:o.innerRef,...o.draggableProps,...o.dragHandleProps,children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("div",{className:"font-bold",children:a.name}),g.jsxs("div",{className:"flex",children:[g.jsx(pi,{size:23}),g.jsx("div",{className:"pl-1",children:fi(a.deadline)})]}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>n(i),children:g.jsx(Gn,{size:23})}),r[i]&&g.jsx(dt,{lines:()=>Si(a,e.list.list_id,e.project,e.onProjectChange),onDropdownClose:()=>n(i)})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-500",children:a.description}),g.jsx(vi,{members:a.assignments.map(s=>({member_id:s.user_id,username:s.username,image_url:s.image_url}))})]})]})},a.task_id))})}function ud(e){const{project:r}=e,{onActionTaskChange:t,onModalToggle:n}=Ue(),[a,i]=C.useState(Array.from(r.lists.map(()=>!1)));function o(s){return i(d=>d.map((p,c)=>s===c?!p:p))}function l(s){t(!0,{type:"create",onModalClose:()=>n("actionTask",!1),members:r.members,project:r,onProjectChange:e.onProjectChange,listID:s})}return g.jsx(yc,{onDragEnd:async s=>await ld(s,r,e.onProjectChange),children:g.jsx(Mn,{droppableId:"lists",direction:"horizontal",type:"list",children:s=>g.jsxs("div",{ref:s.innerRef,className:"grid grid-flow-col gap-6 overflow-auto w-full",...s.droppableProps,children:[r.lists.map((d,p)=>g.jsx(oi,{draggableId:d.list_id,index:p,children:c=>g.jsx("div",{ref:c.innerRef,...c.draggableProps,...c.dragHandleProps,children:g.jsx(Mn,{droppableId:d.list_id,type:"task",children:(u,f)=>g.jsxs("div",{ref:u.innerRef,className:"bg-white rounded-lg min-w-96 mb-6",...u.droppableProps,children:[g.jsxs("div",{className:"flex justify-between bg-gray-200 p-3 rounded-t-md",children:[g.jsx("h3",{className:"grid place-content-center",children:d.title}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>o(p),children:g.jsx(gi,{size:25})}),a[p]&&g.jsx(dt,{lines:()=>Ii(d,r,e.onProjectChange),onDropdownClose:()=>o(p)})]})]}),g.jsxs("div",{className:`${f.isDraggingOver?" bg-blue-200":"bg-transparent"}`,children:[g.jsx("button",{className:`w-full rounded-2xl border-dashed border-4 
                                    grid place-content-center py-1 my-4`,onClick:()=>l(d.list_id),children:g.jsx(mi,{size:30})}),g.jsx("div",{children:d.tasks.length>0?g.jsx(sd,{list:d,project:r,onProjectChange:e.onProjectChange}):g.jsx("div",{className:"w-full text-center",children:g.jsx("h3",{children:"No tasks yet"})})})]}),u.placeholder]})})})},d.list_id)),s.placeholder]})})})}function cd(e){const[r,t]=C.useState(""),[n,a]=C.useState(!1);async function i(){a(!0),await e.action(r),a(!1),e.onModalClose()}return g.jsx(Wn,{children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-1/2",children:[g.jsx("label",{htmlFor:"title",className:"font-bold block my-3 text-lg",children:"List title"}),g.jsx("input",{value:r,onChange:o=>t(o.target.value),id:"title",placeholder:"Title",className:"bg-gray-100 px-4 py-2 rounded-md w-full"}),g.jsxs("div",{className:"w-full mt-5 flex justify-between",children:[g.jsx("button",{onClick:e.onModalClose,className:"rounded-lg bg-red-500 text-white font-bold py-2 px-4",children:"Cancel"}),n?g.jsx(Un,{text:"Creating..."}):g.jsx("button",{onClick:i,className:"rounded-lg bg-blue-500 text-white font-bold py-2 px-4",children:"Create"})]})]})})}function Ln(e){const[r,t]=C.useState(Array.from(e.members,a=>a.type));C.useEffect(()=>{t(Array.from(e.members,a=>a.type))},[e.members]);function n(a,i){i===e.type?e.onTaskMembersChange(a,"none"):e.onTaskMembersChange(a,e.type)}return g.jsxs("div",{className:"mt-3",children:[g.jsx("h3",{children:e.title}),g.jsx("div",{className:"grid grid-cols-1 border-gray-200 border rounded-lg mt-3 p-5 h-40 overflow-auto",children:e.members.map((a,i)=>g.jsxs("div",{className:"mb-4 border-b-2 border-b-gray-200 flex",children:[g.jsx("div",{children:a.username}),g.jsx("div",{className:"text-gray-400 mx-4",children:a.role}),g.jsx("input",{type:"checkbox",checked:r[i]===e.type,onChange:()=>n(i,r[i]),className:"scale-125 disabled:cursor-not-allowed"})]},a.user_id))})]})}function dd(e){const[r,t]=C.useState(e.task||bi),[n,a]=C.useState(!1),[i,o]=C.useState([]),[l,s]=C.useState([]);C.useEffect(()=>{const u=e.members.map(f=>{const v=r.assignments.find(m=>{if(m.user_id===f.member_id)return m});return{user_id:f.member_id,type:(v==null?void 0:v.type)||"none",username:f.username,role:f.role}});o(u),s(u)},[]);function d(u){t(f=>({...f,[u.target.name]:u.target.value}))}async function p(){a(!0);try{let u;e.type==="create"?u=await H.post("/task",{listID:e.listID,...r}):u=await H.patch(`/task/${r.task_id}`,{listID:e.listID,...r});const f=u.data.task,v=wi(qt(l),qt(i));for(const h of v.delete)ur.emit("delete-assignment",r.name,e.project.name,h.user_id),await H.delete(`/assignment/${h.user_id}/${f.task_id}`);for(const h of v.create)ur.emit("create-assignment",r.name,e.project.name,h.user_id),await H.post("/assignment",{newUserID:h.user_id,taskID:f.task_id,assignmentType:h.type});for(const h of v.update)ur.emit("update-assignment",r.name,e.project.name,h.user_id),await H.patch("/assignment",{currUserID:h.user_id,taskID:r.task_id,assignmentType:h.type});const b=(await H.get(`/task/${f.task_id}`)).data.task;e.onProjectChange({...e.project,lists:e.project.lists.map(h=>h.list_id!==e.listID?h:e.type==="create"?{...h,tasks:[...h.tasks,b]}:{...h,tasks:h.tasks.map(y=>y.task_id===b.task_id?b:y)})})}catch(u){oe(u)}finally{a(!1)}e.onModalClose()}function c(u,f){o(v=>v.map((m,b)=>b!==u?m:{...m,type:f}))}return g.jsx(Wn,{children:g.jsxs("div",{className:"bg-white rounded-lg p-6 w-5/6",children:[g.jsx("div",{className:"mb-5 w-full",children:g.jsx("div",{className:"text-sm text-gray-500",children:e.type==="update"?"Edit task":"Create task"})}),g.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"taskTitle",children:g.jsx("h3",{className:"mb-2",children:"Title"})}),g.jsx("input",{name:"name",id:"taskTitle",value:r.name,onChange:d,className:"border-2 border-gray-300 rounded-md w-full"})]}),g.jsxs("div",{className:"flex",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"taskStatus",className:"block",children:g.jsx("h3",{className:"mb-2",children:"Status"})}),g.jsxs("select",{id:"taskStatus",value:r.status,name:"status",onChange:d,className:"border-2 border-gray-300 rounded-md bg-white py-2",children:[g.jsx("option",{value:"to do",children:"To do"}),g.jsx("option",{value:"pending",children:"Pending"}),g.jsx("option",{value:"completed",children:"Completed"})]})]}),g.jsxs("div",{className:"ml-3",children:[g.jsx("label",{htmlFor:"priority",className:"block",children:g.jsx("h3",{className:"mb-2",children:"Priority"})}),g.jsxs("select",{id:"priority",value:r.priority,name:"priority",onChange:d,className:"border-2 border-gray-300 rounded-md bg-white py-2",children:[g.jsx("option",{value:"high",children:"High"}),g.jsx("option",{value:"low",children:"Low"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"deadline",className:"block",children:g.jsx("h3",{className:"mb-2",children:"Deadline"})}),g.jsx("input",{type:"date",name:"deadline",id:"deadline",value:r.deadline,onChange:d,className:"border-2 border-gray-300 rounded-md w-full"})]})]}),g.jsx("textarea",{rows:10,className:`border-4 border-gray-300 bg-white
          w-full p-3 rounded-md mt-3 focus:border-blue-500 focus:outline-none`,value:r.description,onChange:d,name:"description"}),g.jsx("div",{className:"grid grid-cols-1 place-items-center lg:flex lg:justify-around",children:i?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"mt-3",children:g.jsx(Ln,{title:"Assignees",members:i,onTaskMembersChange:c,type:"assignee"})}),g.jsx("div",{className:"mt-3",children:g.jsx(Ln,{title:"Reporters",members:i,onTaskMembersChange:c,type:"reporter"})})]}):g.jsx($n,{size:"big"})}),g.jsxs("div",{className:"float-right mt-4",children:[n?g.jsx(Un,{text:"Saving..."}):g.jsx("button",{onClick:p,className:`mx-2 px-4 py-2 text-white bg-blue-500
              rounded-xl font-bold border-blue-500 border-solid`,children:e.type==="create"?"Create":"Edit"}),!n&&g.jsx("button",{onClick:e.onModalClose,className:"px-4 py-2 text-blue-500 bg-white border-blue-500 border-solid rounded-xl font-bold",children:"Cancel"})]})]})})}function md(){const{modalInfo:e,onGeneralModalChange:r,onModalToggle:t}=Ue(),[n,a]=C.useState(!1),{id:i}=hi(),{user:o,isSidebarOpen:l}=yi(),[s,d]=C.useState(),[p,c]=C.useState(!0),[u,f]=C.useState(!1),v=kn();C.useEffect(()=>{(async()=>{c(!0);try{const y=await H.get(`/project/${i}`);d(y.data.project)}catch(y){oe(y)}finally{c(!1)}})()},[]);function m(y){d(y)}async function b(){try{await H.delete(`/registration/${i}/${o==null?void 0:o.user_id}`),ur.emit("delete-registration",s==null?void 0:s.name,!0,o==null?void 0:o.user_id),v("/projects")}catch(y){oe(y)}}function h(){r(!0,{onModalClose:()=>t("general",!1),rightAction:b,rightContent:"Leave",question:"Are you sure you want to leave the project?"})}return g.jsx("div",{className:`${l&&"md:w-[calc(100%-16rem)]"} w-full p-8`,children:p?g.jsx($n,{size:"big"}):g.jsxs(g.Fragment,{children:[e.general.open&&g.jsx(Di,{...e.general.content}),e.list.open&&g.jsx(cd,{...e.list.content}),e.actionTask.open&&g.jsx(dd,{...e.actionTask.content}),e.singleTask.open&&g.jsx(xi,{...e.singleTask.content}),g.jsxs("div",{className:"w-full flex justify-between",children:[g.jsxs("div",{className:"relative",children:[g.jsx("button",{className:"bg-primary px-4 py-2 relative",onClick:()=>a(!0),children:"View all members"}),g.jsxs("div",{className:`absolute z-10 w-72 shadow-lg top-10 bg-white 
                left-0 ${n?"block":"hidden"} h-80 overflow-auto`,children:[g.jsxs("div",{className:"w-full flex justify-between sticky top-0 p-2 bg-white shadow-md",children:[g.jsx("h3",{children:"Members"}),g.jsx("button",{onClick:()=>a(!1),children:g.jsx(Fn,{size:25})})]}),s==null?void 0:s.members.map(y=>g.jsx("div",{className:"w-full p-2",children:g.jsxs(jn,{to:`/profile/${y.member_id}`,className:"flex w-fit",children:[g.jsx("img",{src:y.image_url,className:"h-8 w-8 rounded-full"}),g.jsx("div",{className:"pl-3 grid place-items-center",children:y.username})]})},y.member_id))]})]}),g.jsx("div",{children:g.jsx("button",{className:"bg-primary px-4 py-2 relative",onClick:h,children:"Leave project"})})]}),g.jsxs("div",{className:"my-6",children:["Tip! Hold ",g.jsx("code",{className:"font-bold",children:"Shift"})," while scrolling to scroll horizontally! "]}),g.jsx("div",{className:"my-6",children:"Did you know You can move tasks and lists by grabbing and then dragging them to the desired place. "}),g.jsxs("div",{className:"bg-white rounded-md p-4 my-6 w-full",children:[g.jsxs("div",{className:"flex justify-between pb-4 w-full",children:[g.jsx("h2",{children:"Project overview"}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>f(!0),children:g.jsx(Gn,{size:40})}),u&&s&&g.jsx(dt,{lines:()=>Pi(s,m),onDropdownClose:()=>f(!1)})]})]}),g.jsx("hr",{className:"mb-3"}),g.jsx("div",{className:"w-full shadow-[inset_0px_-12px_12px_rgba(0,0,0,0.8)] p-2 bg-transparent",children:s&&s.lists&&g.jsx("div",{children:s.lists.length===0?g.jsx("h2",{children:"This project doesn't have any lists"}):g.jsx(ud,{project:s,onProjectChange:m})})})]})]})})}export{md as default};
